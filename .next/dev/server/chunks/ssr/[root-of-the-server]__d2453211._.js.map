{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/imperiumgate/components/project/AmenitiesGrid.tsx"],"sourcesContent":["import { type Locale } from '@/lib/i18n-utils';\n\n// Server-side translation helper\nfunction translateText(v?: {ar?:string; en?:string} | string, locale: Locale = 'ar'): string {\n  if (!v) return '';\n  if (typeof v === 'string') return v;\n  return v[locale] || v.en || v.ar || '';\n}\n\nexport default function AmenitiesGrid({ \n  amenities, \n  locale = 'ar' \n}: { \n  amenities: any[]; \n  locale?: 'ar' | 'en' \n}) {\n  // Ensure amenities is an array\n  const safeAmenities = Array.isArray(amenities) ? amenities : [];\n  \n  return (\n    <div className=\"grid md:grid-cols-2 gap-4\">\n      {safeAmenities.map((a, i) => (\n        <div key={i} className=\"rounded-xl border border-gold/20 p-4 bg-black/50\">\n          <div className=\"text-gold font-semibold\">\n            {translateText(a.name, locale)}\n          </div>\n          <div className=\"text-sm text-gray-400 mt-1\">\n            {translateText(a.description, locale)}\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;;AAEA,iCAAiC;AACjC,SAAS,cAAc,CAAqC,EAAE,SAAiB,IAAI;IACjF,IAAI,CAAC,GAAG,OAAO;IACf,IAAI,OAAO,MAAM,UAAU,OAAO;IAClC,OAAO,CAAC,CAAC,OAAO,IAAI,EAAE,EAAE,IAAI,EAAE,EAAE,IAAI;AACtC;AAEe,SAAS,cAAc,EACpC,SAAS,EACT,SAAS,IAAI,EAId;IACC,+BAA+B;IAC/B,MAAM,gBAAgB,MAAM,OAAO,CAAC,aAAa,YAAY,EAAE;IAE/D,qBACE,8OAAC;QAAI,WAAU;kBACZ,cAAc,GAAG,CAAC,CAAC,GAAG,kBACrB,8OAAC;gBAAY,WAAU;;kCACrB,8OAAC;wBAAI,WAAU;kCACZ,cAAc,EAAE,IAAI,EAAE;;;;;;kCAEzB,8OAAC;wBAAI,WAAU;kCACZ,cAAc,EAAE,WAAW,EAAE;;;;;;;eALxB;;;;;;;;;;AAWlB","debugId":null}},
    {"offset": {"line": 98, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/imperiumgate/components/project/ContactBlock.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/project/ContactBlock.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/project/ContactBlock.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAuS,GACpU,qEACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 112, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/imperiumgate/components/project/ContactBlock.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/project/ContactBlock.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/project/ContactBlock.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAmR,GAChT,iDACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 126, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 134, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/imperiumgate/components/project/DocsBlock.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/project/DocsBlock.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/project/DocsBlock.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAoS,GACjU,kEACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 148, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/imperiumgate/components/project/DocsBlock.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/project/DocsBlock.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/project/DocsBlock.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAgR,GAC7S,8CACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 162, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 170, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/imperiumgate/components/project/Gallery.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/project/Gallery.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/project/Gallery.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAkS,GAC/T,gEACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 184, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/imperiumgate/components/project/Gallery.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/project/Gallery.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/project/Gallery.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA8Q,GAC3S,4CACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 198, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 206, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/imperiumgate/components/project/Insights.tsx"],"sourcesContent":["export default function Insights({ text }:{ text?:string }){ if(!text) return null; return (<div className=\"rounded-xl border border-gold/20 p-6 bg-black/50\"><div className=\"text-gold font-semibold mb-2\">تحليلات</div><p className=\"text-gray-300 whitespace-pre-wrap\">{text}</p></div>); }\n"],"names":[],"mappings":";;;;;;AAAe,SAAS,SAAS,EAAE,IAAI,EAAmB;IAAG,IAAG,CAAC,MAAM,OAAO;IAAM,qBAAQ,8OAAC;QAAI,WAAU;;0BAAmD,8OAAC;gBAAI,WAAU;0BAA+B;;;;;;0BAAa,8OAAC;gBAAE,WAAU;0BAAqC;;;;;;;;;;;;AAAkB","debugId":null}},
    {"offset": {"line": 244, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/imperiumgate/lib/format.ts"],"sourcesContent":["export type Locale = 'ar' | 'en';\n\nexport function formatAED(n?: number, locale: Locale = 'ar') {\n  if (typeof n !== 'number') return '—';\n  const suffix = locale === 'ar' ? ' درهم' : ' AED';\n  if (n >= 1_000_000) {\n    return `${(n / 1_000_000).toFixed(1).replace(/\\.0$/, '')}M${suffix}`;\n  }\n  return `${n.toLocaleString('en-US').replace(/\\.\\d+/, '')}${suffix}`;\n}\n\nexport function formatArea(min?: number, max?: number, unit: 'sqm' | 'sqft' = 'sqm', locale: Locale = 'ar') {\n  const unitText = locale === 'ar' ? (unit === 'sqm' ? 'م²' : 'قدم²') : unit;\n  if (typeof min !== 'number' && typeof max !== 'number') return '—';\n  if (typeof min === 'number' && typeof max === 'number' && max > min) {\n    return `${min.toLocaleString('en-US')} – ${max.toLocaleString('en-US')} ${unitText}`;\n  }\n  const val = min ?? max;\n  return `${val?.toLocaleString('en-US')} ${unitText}`;\n}\n\nexport function formatBedrooms(arr?: number[] | string, locale: Locale = 'ar') {\n  if (!arr) return '—';\n  \n  // If it's already a string, return it as-is (it's already formatted)\n  if (typeof arr === 'string') {\n    return arr;\n  }\n  \n  // If it's an array but empty, return dash\n  if (Array.isArray(arr) && !arr.length) return '—';\n  \n  // If it's an array, format it\n  if (Array.isArray(arr)) {\n    const suffix = locale === 'ar' ? ' غرف' : ' BR';\n    return `${arr.join(', ')}${suffix}`;\n  }\n  \n  return '—';\n}\n\nexport const proxify = (url: string) => {\n  if (!url) return url;\n  \n  // If it's already a local URL or data URL, return as-is\n  if (url.startsWith('/') || url.startsWith('data:') || url.startsWith('blob:')) {\n    return url;\n  }\n  \n  // If missing protocol (e.g. 'youtu.be/...' or 'example.com/file'), assume https\n  if (!/^([a-zA-Z]+:\\/\\/)/.test(url)) {\n    url = `https://${url}`;\n  }\n\n  // Only proxy static media files from specific domains (ctfassets.net, amazonaws.com)\n  // Do NOT proxy navigation links, 3D tour links, or other interactive content\n  try {\n    const urlObj = new URL(url);\n    if (urlObj.protocol === 'https:' || urlObj.protocol === 'http:') {\n      // Only proxy if it's a static media file from trusted CDN domains\n      if (url.includes('ctfassets.net') || url.includes('amazonaws.com')) {\n        return `/api/proxy/file?url=${encodeURIComponent(url)}`;\n      }\n      // For all other external URLs (PropVR, 3D tours, etc.), return as-is\n      return url;\n    }\n  } catch (e) {\n    // If URL parsing fails, return original\n    console.warn('Failed to parse URL for proxying:', url);\n  }\n  \n  return url;\n};\n\nexport const currencyAED = (n: number | null | undefined) => {\n  if (n === null || n === undefined) return '';\n  return n.toLocaleString('en-US').replace(/\\.\\d+/, '') + ' AED';\n};\n"],"names":[],"mappings":";;;;;;;;;;;;AAEO,SAAS,UAAU,CAAU,EAAE,SAAiB,IAAI;IACzD,IAAI,OAAO,MAAM,UAAU,OAAO;IAClC,MAAM,SAAS,WAAW,OAAO,UAAU;IAC3C,IAAI,KAAK,WAAW;QAClB,OAAO,GAAG,CAAC,IAAI,SAAS,EAAE,OAAO,CAAC,GAAG,OAAO,CAAC,QAAQ,IAAI,CAAC,EAAE,QAAQ;IACtE;IACA,OAAO,GAAG,EAAE,cAAc,CAAC,SAAS,OAAO,CAAC,SAAS,MAAM,QAAQ;AACrE;AAEO,SAAS,WAAW,GAAY,EAAE,GAAY,EAAE,OAAuB,KAAK,EAAE,SAAiB,IAAI;IACxG,MAAM,WAAW,WAAW,OAAQ,SAAS,QAAQ,OAAO,SAAU;IACtE,IAAI,OAAO,QAAQ,YAAY,OAAO,QAAQ,UAAU,OAAO;IAC/D,IAAI,OAAO,QAAQ,YAAY,OAAO,QAAQ,YAAY,MAAM,KAAK;QACnE,OAAO,GAAG,IAAI,cAAc,CAAC,SAAS,GAAG,EAAE,IAAI,cAAc,CAAC,SAAS,CAAC,EAAE,UAAU;IACtF;IACA,MAAM,MAAM,OAAO;IACnB,OAAO,GAAG,KAAK,eAAe,SAAS,CAAC,EAAE,UAAU;AACtD;AAEO,SAAS,eAAe,GAAuB,EAAE,SAAiB,IAAI;IAC3E,IAAI,CAAC,KAAK,OAAO;IAEjB,qEAAqE;IACrE,IAAI,OAAO,QAAQ,UAAU;QAC3B,OAAO;IACT;IAEA,0CAA0C;IAC1C,IAAI,MAAM,OAAO,CAAC,QAAQ,CAAC,IAAI,MAAM,EAAE,OAAO;IAE9C,8BAA8B;IAC9B,IAAI,MAAM,OAAO,CAAC,MAAM;QACtB,MAAM,SAAS,WAAW,OAAO,SAAS;QAC1C,OAAO,GAAG,IAAI,IAAI,CAAC,QAAQ,QAAQ;IACrC;IAEA,OAAO;AACT;AAEO,MAAM,UAAU,CAAC;IACtB,IAAI,CAAC,KAAK,OAAO;IAEjB,wDAAwD;IACxD,IAAI,IAAI,UAAU,CAAC,QAAQ,IAAI,UAAU,CAAC,YAAY,IAAI,UAAU,CAAC,UAAU;QAC7E,OAAO;IACT;IAEA,gFAAgF;IAChF,IAAI,CAAC,oBAAoB,IAAI,CAAC,MAAM;QAClC,MAAM,CAAC,QAAQ,EAAE,KAAK;IACxB;IAEA,qFAAqF;IACrF,6EAA6E;IAC7E,IAAI;QACF,MAAM,SAAS,IAAI,IAAI;QACvB,IAAI,OAAO,QAAQ,KAAK,YAAY,OAAO,QAAQ,KAAK,SAAS;YAC/D,kEAAkE;YAClE,IAAI,IAAI,QAAQ,CAAC,oBAAoB,IAAI,QAAQ,CAAC,kBAAkB;gBAClE,OAAO,CAAC,oBAAoB,EAAE,mBAAmB,MAAM;YACzD;YACA,qEAAqE;YACrE,OAAO;QACT;IACF,EAAE,OAAO,GAAG;QACV,wCAAwC;QACxC,QAAQ,IAAI,CAAC,qCAAqC;IACpD;IAEA,OAAO;AACT;AAEO,MAAM,cAAc,CAAC;IAC1B,IAAI,MAAM,QAAQ,MAAM,WAAW,OAAO;IAC1C,OAAO,EAAE,cAAc,CAAC,SAAS,OAAO,CAAC,SAAS,MAAM;AAC1D","debugId":null}},
    {"offset": {"line": 324, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/imperiumgate/components/project/KeyStats.tsx"],"sourcesContent":["import { formatAED } from '@/lib/format';\nimport type { Project } from '@/lib/types';\nimport type { Locale } from '@/lib/i18n-utils';\n\n// Server-side translation helper\nfunction translateText(v?: {ar?:string; en?:string} | string, locale: Locale = 'ar'): string {\n  if (!v) return '';\n  if (typeof v === 'string') return v;\n  return v[locale] || v.en || v.ar || '';\n}\n\nexport default function KeyStats({ \n  project, \n  locale = 'ar' \n}: { \n  project: Project; \n  locale?: Locale \n}) {\n  // Build stats array with only available data\n  type StatItem = { label: string; value: string };\n  const allStats: StatItem[] = [\n    project?.minPriceAED && project.minPriceAED > 0 ? { \n      label: locale === 'ar' ? 'أقل سعر' : 'Min Price', \n      value: formatAED(project.minPriceAED, locale) \n    } : null,\n    project?.maxPriceAED && project.maxPriceAED > 0 ? { \n      label: locale === 'ar' ? 'أعلى سعر' : 'Max Price', \n      value: formatAED(project.maxPriceAED, locale) \n    } : null,\n    (project?.minAreaSqft && project.minAreaSqft > 0) || (project?.maxAreaSqft && project.maxAreaSqft > 0) ? { \n      label: locale === 'ar' ? 'المساحة (قدم²)' : 'Area (ft²)', \n      value: project.minAreaSqft && project.maxAreaSqft \n        ? `${project.minAreaSqft} - ${project.maxAreaSqft}` \n        : project.minAreaSqft ? `${project.minAreaSqft}+` : `${project.maxAreaSqft}` \n    } : null,\n    (project?.minAreaSqmt && project.minAreaSqmt > 0) || (project?.maxAreaSqmt && project.maxAreaSqmt > 0) ? { \n      label: locale === 'ar' ? 'المساحة (م²)' : 'Area (m²)', \n      value: project.minAreaSqmt && project.maxAreaSqmt \n        ? `${project.minAreaSqmt} - ${project.maxAreaSqmt}` \n        : project.minAreaSqmt ? `${project.minAreaSqmt}+` : `${project.maxAreaSqmt}` \n    } : null,\n    project?.deliveryDate ? { \n      label: locale === 'ar' ? 'التسليم' : 'Delivery', \n      value: project.deliveryDate \n    } : null,\n    project?.paymentPlan ? { \n      label: locale === 'ar' ? 'الخطة' : 'Plan', \n      value: translateText(project.paymentPlan, locale) \n    } : null,\n    project?.projectStatus ? { \n      label: locale === 'ar' ? 'الحالة' : 'Status', \n      value: translateText(project.projectStatus, locale) \n    } : null,\n  ].filter((stat): stat is StatItem => stat !== null); // Remove null entries with type guard\n\n  // Don't render if no stats available\n  if (allStats.length === 0) {\n    return null;\n  }\n\n  // Determine grid layout based on number of stats\n  const gridCols = allStats.length === 1 ? 'grid-cols-1' :\n                   allStats.length === 2 ? 'sm:grid-cols-2' :\n                   allStats.length <= 3 ? 'sm:grid-cols-2 md:grid-cols-3' :\n                   allStats.length <= 4 ? 'sm:grid-cols-2 lg:grid-cols-4' :\n                   'sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5';\n\n  return (\n    <div className={`grid ${gridCols} gap-4 -mt-8 relative z-20`}>\n      {allStats.map((stat, i) => (\n        <div key={i} className=\"rounded-xl border border-gold/20 bg-black/60 p-4\">\n          <div className=\"text-xs text-gray-400\">{stat.label}</div>\n          <div className=\"text-lg text-gold font-semibold mt-1\">{stat.value}</div>\n        </div>\n      ))}\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;AAAA;;;AAIA,iCAAiC;AACjC,SAAS,cAAc,CAAqC,EAAE,SAAiB,IAAI;IACjF,IAAI,CAAC,GAAG,OAAO;IACf,IAAI,OAAO,MAAM,UAAU,OAAO;IAClC,OAAO,CAAC,CAAC,OAAO,IAAI,EAAE,EAAE,IAAI,EAAE,EAAE,IAAI;AACtC;AAEe,SAAS,SAAS,EAC/B,OAAO,EACP,SAAS,IAAI,EAId;IAGC,MAAM,WAAuB;QAC3B,SAAS,eAAe,QAAQ,WAAW,GAAG,IAAI;YAChD,OAAO,WAAW,OAAO,YAAY;YACrC,OAAO,IAAA,0HAAS,EAAC,QAAQ,WAAW,EAAE;QACxC,IAAI;QACJ,SAAS,eAAe,QAAQ,WAAW,GAAG,IAAI;YAChD,OAAO,WAAW,OAAO,aAAa;YACtC,OAAO,IAAA,0HAAS,EAAC,QAAQ,WAAW,EAAE;QACxC,IAAI;QACH,SAAS,eAAe,QAAQ,WAAW,GAAG,KAAO,SAAS,eAAe,QAAQ,WAAW,GAAG,IAAK;YACvG,OAAO,WAAW,OAAO,mBAAmB;YAC5C,OAAO,QAAQ,WAAW,IAAI,QAAQ,WAAW,GAC7C,GAAG,QAAQ,WAAW,CAAC,GAAG,EAAE,QAAQ,WAAW,EAAE,GACjD,QAAQ,WAAW,GAAG,GAAG,QAAQ,WAAW,CAAC,CAAC,CAAC,GAAG,GAAG,QAAQ,WAAW,EAAE;QAChF,IAAI;QACH,SAAS,eAAe,QAAQ,WAAW,GAAG,KAAO,SAAS,eAAe,QAAQ,WAAW,GAAG,IAAK;YACvG,OAAO,WAAW,OAAO,iBAAiB;YAC1C,OAAO,QAAQ,WAAW,IAAI,QAAQ,WAAW,GAC7C,GAAG,QAAQ,WAAW,CAAC,GAAG,EAAE,QAAQ,WAAW,EAAE,GACjD,QAAQ,WAAW,GAAG,GAAG,QAAQ,WAAW,CAAC,CAAC,CAAC,GAAG,GAAG,QAAQ,WAAW,EAAE;QAChF,IAAI;QACJ,SAAS,eAAe;YACtB,OAAO,WAAW,OAAO,YAAY;YACrC,OAAO,QAAQ,YAAY;QAC7B,IAAI;QACJ,SAAS,cAAc;YACrB,OAAO,WAAW,OAAO,UAAU;YACnC,OAAO,cAAc,QAAQ,WAAW,EAAE;QAC5C,IAAI;QACJ,SAAS,gBAAgB;YACvB,OAAO,WAAW,OAAO,WAAW;YACpC,OAAO,cAAc,QAAQ,aAAa,EAAE;QAC9C,IAAI;KACL,CAAC,MAAM,CAAC,CAAC,OAA2B,SAAS,OAAO,sCAAsC;IAE3F,qCAAqC;IACrC,IAAI,SAAS,MAAM,KAAK,GAAG;QACzB,OAAO;IACT;IAEA,iDAAiD;IACjD,MAAM,WAAW,SAAS,MAAM,KAAK,IAAI,gBACxB,SAAS,MAAM,KAAK,IAAI,mBACxB,SAAS,MAAM,IAAI,IAAI,kCACvB,SAAS,MAAM,IAAI,IAAI,kCACvB;IAEjB,qBACE,8OAAC;QAAI,WAAW,CAAC,KAAK,EAAE,SAAS,0BAA0B,CAAC;kBACzD,SAAS,GAAG,CAAC,CAAC,MAAM,kBACnB,8OAAC;gBAAY,WAAU;;kCACrB,8OAAC;wBAAI,WAAU;kCAAyB,KAAK,KAAK;;;;;;kCAClD,8OAAC;wBAAI,WAAU;kCAAwC,KAAK,KAAK;;;;;;;eAFzD;;;;;;;;;;AAOlB","debugId":null}},
    {"offset": {"line": 412, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/imperiumgate/components/project/NewsBlock.tsx"],"sourcesContent":["import type { NewsItem, Locale } from '@/lib/types';\n\n// Server-side translation helper\nfunction translateText(v?: {ar?:string; en?:string} | string, locale: Locale = 'ar'): string {\n  if (!v) return '';\n  if (typeof v === 'string') return v;\n  return v[locale] || v.en || v.ar || '';\n}\n\nexport default function NewsBlock({ \n  news, \n  locale = 'ar' \n}: { \n  news: NewsItem[]; \n  locale: Locale \n}) {\n  if (!Array.isArray(news) || !news.length) return null;\n  \n  return (\n    <div className=\"grid gap-4\">\n      {news.map((n, i) => (\n        <a \n          key={i} \n          href={n.url || '#'} \n          target=\"_blank\" \n          rel=\"noreferrer\" \n          className=\"block rounded-lg border border-gold/20 p-4 bg-black/40 hover:shadow-gold transition\"\n        >\n          <div className=\"text-gold font-semibold\">\n            {translateText(n.title, locale)}\n          </div>\n          {n.source || n.date ? (\n            <div className=\"text-xs text-zinc-400 mt-1\">\n              {[n.source, n.date].filter(Boolean).join(' • ')}\n            </div>\n          ) : null}\n        </a>\n      ))}\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;;AAEA,iCAAiC;AACjC,SAAS,cAAc,CAAqC,EAAE,SAAiB,IAAI;IACjF,IAAI,CAAC,GAAG,OAAO;IACf,IAAI,OAAO,MAAM,UAAU,OAAO;IAClC,OAAO,CAAC,CAAC,OAAO,IAAI,EAAE,EAAE,IAAI,EAAE,EAAE,IAAI;AACtC;AAEe,SAAS,UAAU,EAChC,IAAI,EACJ,SAAS,IAAI,EAId;IACC,IAAI,CAAC,MAAM,OAAO,CAAC,SAAS,CAAC,KAAK,MAAM,EAAE,OAAO;IAEjD,qBACE,8OAAC;QAAI,WAAU;kBACZ,KAAK,GAAG,CAAC,CAAC,GAAG,kBACZ,8OAAC;gBAEC,MAAM,EAAE,GAAG,IAAI;gBACf,QAAO;gBACP,KAAI;gBACJ,WAAU;;kCAEV,8OAAC;wBAAI,WAAU;kCACZ,cAAc,EAAE,KAAK,EAAE;;;;;;oBAEzB,EAAE,MAAM,IAAI,EAAE,IAAI,iBACjB,8OAAC;wBAAI,WAAU;kCACZ;4BAAC,EAAE,MAAM;4BAAE,EAAE,IAAI;yBAAC,CAAC,MAAM,CAAC,SAAS,IAAI,CAAC;;;;;+BAEzC;;eAbC;;;;;;;;;;AAkBf","debugId":null}},
    {"offset": {"line": 469, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/imperiumgate/components/project/Overview.tsx"],"sourcesContent":["import { type Locale } from '@/lib/i18n-utils';\n\n// Server-side translation helper\nfunction translateText(v?: {ar?:string; en?:string} | string, locale: Locale = 'ar'): string {\n  if (!v) return '';\n  if (typeof v === 'string') return v;\n  return v[locale] || v.en || v.ar || '';\n}\n\nexport default function Overview({ \n  project, \n  locale = 'ar' \n}: { \n  project: any; \n  locale?: 'ar' | 'en' \n}) {\n  return (\n    <div className=\"prose prose-invert max-w-none\">\n      <h2 className=\"text-2xl font-bold text-gold\">\n        {translateText(project.projectName, locale) || project.slug}\n      </h2>\n      <p className=\"mt-4 text-gray-300 whitespace-pre-wrap\">\n        {translateText(project.description, locale) || translateText(project.summary, locale)}\n      </p>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;AAEA,iCAAiC;AACjC,SAAS,cAAc,CAAqC,EAAE,SAAiB,IAAI;IACjF,IAAI,CAAC,GAAG,OAAO;IACf,IAAI,OAAO,MAAM,UAAU,OAAO;IAClC,OAAO,CAAC,CAAC,OAAO,IAAI,EAAE,EAAE,IAAI,EAAE,EAAE,IAAI;AACtC;AAEe,SAAS,SAAS,EAC/B,OAAO,EACP,SAAS,IAAI,EAId;IACC,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BACX,cAAc,QAAQ,WAAW,EAAE,WAAW,QAAQ,IAAI;;;;;;0BAE7D,8OAAC;gBAAE,WAAU;0BACV,cAAc,QAAQ,WAAW,EAAE,WAAW,cAAc,QAAQ,OAAO,EAAE;;;;;;;;;;;;AAItF","debugId":null}},
    {"offset": {"line": 512, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/imperiumgate/components/project/ProjectHero.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/project/ProjectHero.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/project/ProjectHero.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAsS,GACnU,oEACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 526, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/imperiumgate/components/project/ProjectHero.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/project/ProjectHero.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/project/ProjectHero.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAkR,GAC/S,gDACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 540, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 548, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/imperiumgate/components/project/ProjectNotFound.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/project/ProjectNotFound.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/project/ProjectNotFound.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA0S,GACvU,wEACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 562, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/imperiumgate/components/project/ProjectNotFound.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/project/ProjectNotFound.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/project/ProjectNotFound.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAsR,GACnT,oDACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 576, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 584, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/imperiumgate/components/project/RelatedCarousel.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/project/RelatedCarousel.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/project/RelatedCarousel.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA0S,GACvU,wEACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 598, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/imperiumgate/components/project/RelatedCarousel.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/project/RelatedCarousel.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/project/RelatedCarousel.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAsR,GACnT,oDACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 612, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 620, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/imperiumgate/components/project/SectionNav.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/project/SectionNav.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/project/SectionNav.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAqS,GAClU,mEACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 634, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/imperiumgate/components/project/SectionNav.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/project/SectionNav.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/project/SectionNav.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAiR,GAC9S,+CACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 648, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 656, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/imperiumgate/components/project/ProjectLocationMapWrapper.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/project/ProjectLocationMapWrapper.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/project/ProjectLocationMapWrapper.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAoT,GACjV,kFACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 670, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/imperiumgate/components/project/ProjectLocationMapWrapper.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/project/ProjectLocationMapWrapper.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/project/ProjectLocationMapWrapper.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAgS,GAC7T,8DACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 684, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 692, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/imperiumgate/components/project/3DTourButton.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/project/3DTourButton.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/project/3DTourButton.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAuS,GACpU,qEACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 706, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/imperiumgate/components/project/3DTourButton.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/project/3DTourButton.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/project/3DTourButton.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAmR,GAChT,iDACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 720, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 728, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/imperiumgate/components/project/VideoBlock.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/project/VideoBlock.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/project/VideoBlock.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAqS,GAClU,mEACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 742, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/imperiumgate/components/project/VideoBlock.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/project/VideoBlock.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/project/VideoBlock.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAiR,GAC9S,+CACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 756, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 764, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/imperiumgate/components/ui/ROICalculator.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/ui/ROICalculator.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/ui/ROICalculator.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAmS,GAChU,iEACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 778, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/imperiumgate/components/ui/ROICalculator.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/ui/ROICalculator.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/ui/ROICalculator.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA+Q,GAC5S,6CACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 792, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 800, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/imperiumgate/lib/geo.ts"],"sourcesContent":["import type { Project } from './types';\nexport function deriveProjectLatLon(p: Project): {lat?:number; lon?:number} {\n  const valid = (x?:number)=> typeof x==='number' && Number.isFinite(x) && Math.abs(x)>0;\n  if (valid(p.latitude) && valid(p.longitude)) return { lat: p.latitude, lon: p.longitude };\n  const pois = p.mapPointsOfInterest || [];\n  const first = pois.find(po=>po.coordinates)?.coordinates;\n  if (first) return { lat: first.lat, lon: first.lon };\n  if (pois.length){\n    const arr = pois.map(po=>po.coordinates).filter(Boolean) as {lat:number;lon:number}[];\n    if (arr.length){ const lat = arr.reduce((a,c)=>a+c.lat,0)/arr.length; const lon = arr.reduce((a,c)=>a+c.lon,0)/arr.length; return {lat,lon}; }\n  }\n  return {};\n}\n"],"names":[],"mappings":";;;;AACO,SAAS,oBAAoB,CAAU;IAC5C,MAAM,QAAQ,CAAC,IAAa,OAAO,MAAI,YAAY,OAAO,QAAQ,CAAC,MAAM,KAAK,GAAG,CAAC,KAAG;IACrF,IAAI,MAAM,EAAE,QAAQ,KAAK,MAAM,EAAE,SAAS,GAAG,OAAO;QAAE,KAAK,EAAE,QAAQ;QAAE,KAAK,EAAE,SAAS;IAAC;IACxF,MAAM,OAAO,EAAE,mBAAmB,IAAI,EAAE;IACxC,MAAM,QAAQ,KAAK,IAAI,CAAC,CAAA,KAAI,GAAG,WAAW,GAAG;IAC7C,IAAI,OAAO,OAAO;QAAE,KAAK,MAAM,GAAG;QAAE,KAAK,MAAM,GAAG;IAAC;IACnD,IAAI,KAAK,MAAM,EAAC;QACd,MAAM,MAAM,KAAK,GAAG,CAAC,CAAA,KAAI,GAAG,WAAW,EAAE,MAAM,CAAC;QAChD,IAAI,IAAI,MAAM,EAAC;YAAE,MAAM,MAAM,IAAI,MAAM,CAAC,CAAC,GAAE,IAAI,IAAE,EAAE,GAAG,EAAC,KAAG,IAAI,MAAM;YAAE,MAAM,MAAM,IAAI,MAAM,CAAC,CAAC,GAAE,IAAI,IAAE,EAAE,GAAG,EAAC,KAAG,IAAI,MAAM;YAAE,OAAO;gBAAC;gBAAI;YAAG;QAAG;IAC/I;IACA,OAAO,CAAC;AACV","debugId":null}},
    {"offset": {"line": 839, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/imperiumgate/lib/unifiedDataService.ts"],"sourcesContent":["// lib/unifiedDataService.ts\nimport fs from 'fs';\nimport path from 'path';\nimport type { MaybeLocalized, Project } from './types';\n\nfunction slugify(input: string): string {\n  const base = (input || '').toString()\n    .replace(/\\.[^.]+$/, '') // drop extension\n    .replace(/[_\\s]+/g, '-')\n    .replace(/[^a-zA-Z0-9-]+/g, '-')\n    .replace(/-+/g, '-')\n    .replace(/^-|-$/g, '')\n    .toLowerCase();\n  return base || 'project';\n}\n\nfunction generateSlug(p: any, filename: string): string {\n  if (typeof p?.slug === 'string' && p.slug.trim()) {\n    return slugify(p.slug.trim());\n  }\n  const name = typeof p?.projectName === 'string'\n    ? p.projectName\n    : (typeof p?.projectName === 'object' ? (p.projectName.en || p.projectName.ar || '') : '');\n  if (name && name.trim()) {\n    return slugify(name.trim());\n  }\n  return slugify(filename);\n}\n\n// Arabic-to-English fallback system\nfunction applyLanguageFallback(field: any): MaybeLocalized | undefined {\n  if (!field) return undefined;\n  \n  if (typeof field === 'string') {\n    return field.trim() || undefined;\n  }\n  \n  if (typeof field === 'object' && field !== null) {\n    const en = typeof field.en === 'string' ? field.en.trim() : '';\n    const ar = typeof field.ar === 'string' ? field.ar.trim() : '';\n    \n    // If Arabic is missing or empty, use English\n    const finalAr = ar || en;\n    // If English is missing or empty, use Arabic\n    const finalEn = en || ar;\n    \n    // Only return if we have at least one valid value\n    if (finalEn || finalAr) {\n      return {\n        en: finalEn || undefined,\n        ar: finalAr || undefined\n      };\n    }\n  }\n  \n  return undefined;\n}\n\n// Enhanced field validation and normalization\nfunction validateAndNormalizeProject(rawProject: any, filename: string, developerName: string): Project | null {\n  try {\n    // Essential fields validation\n    const projectName = applyLanguageFallback(rawProject.projectName || rawProject.title || rawProject.name);\n    if (!projectName) {\n      console.warn(`⚠️ Skipping project in ${filename}: missing projectName/title`);\n      return null;\n    }\n\n    // Generate slug with fallback\n    const slug = generateSlug(rawProject, filename);\n    \n    // Create base project with required fields\n    const project: Project = {\n      slug,\n      id: rawProject.id || `${developerName.toLowerCase()}-${slug}`,\n      developer: developerName,\n      projectName,\n      \n      // Apply fallback to all localized fields\n      country: applyLanguageFallback(rawProject.country),\n      city: applyLanguageFallback(rawProject.city),\n      area: applyLanguageFallback(rawProject.area),\n      location: applyLanguageFallback(rawProject.location),\n      description: applyLanguageFallback(rawProject.description),\n      summary: applyLanguageFallback(rawProject.summary),\n      insights: applyLanguageFallback(rawProject.insights),\n      mapDescription: applyLanguageFallback(rawProject.mapDescription),\n      projectStatus: applyLanguageFallback(rawProject.projectStatus),\n      \n      // Numeric fields with validation\n      minPriceAED: typeof rawProject.minPriceAED === 'number' ? rawProject.minPriceAED : \n                   typeof rawProject.minPrice === 'number' ? rawProject.minPrice : undefined,\n      maxPriceAED: typeof rawProject.maxPriceAED === 'number' ? rawProject.maxPriceAED : \n                   typeof rawProject.maxPrice === 'number' ? rawProject.maxPrice : undefined,\n      \n      minAreaSqft: typeof rawProject.minAreaSqft === 'number' ? rawProject.minAreaSqft : \n                   typeof rawProject.areaMin === 'number' ? rawProject.areaMin : undefined,\n      maxAreaSqft: typeof rawProject.maxAreaSqft === 'number' ? rawProject.maxAreaSqft : \n                   typeof rawProject.areaMax === 'number' ? rawProject.areaMax : undefined,\n      \n      // Coordinates with validation\n      latitude: typeof rawProject.latitude === 'number' ? rawProject.latitude : undefined,\n      longitude: typeof rawProject.longitude === 'number' ? rawProject.longitude : undefined,\n      \n      // Media links with validation\n      heroImage: typeof rawProject.heroImage === 'string' ? rawProject.heroImage.trim() || undefined : undefined,\n      videoLink: typeof rawProject.videoLink === 'string' ? rawProject.videoLink.trim() || undefined : undefined,\n      brochurePdfLink: typeof rawProject.brochurePdfLink === 'string' ? rawProject.brochurePdfLink.trim() || undefined : \n                       typeof rawProject.pdf === 'string' ? rawProject.pdf.trim() || undefined : undefined,\n      '3D_TourLink': typeof rawProject['3D_TourLink'] === 'string' ? rawProject['3D_TourLink'].trim() || undefined : undefined,\n      \n      // Arrays with validation\n      galleryImages: Array.isArray(rawProject.galleryImages) ? \n        rawProject.galleryImages.filter((img: any) => typeof img === 'string' && img.trim()) : \n        Array.isArray(rawProject.images) ? \n        rawProject.images.filter((img: any) => typeof img === 'string' && img.trim()) : [],\n      \n      bedrooms: Array.isArray(rawProject.bedrooms) ? rawProject.bedrooms : undefined,\n      \n      // Dates with validation\n      launchDate: typeof rawProject.launchDate === 'string' ? rawProject.launchDate.trim() || undefined : undefined,\n      deliveryDate: typeof rawProject.deliveryDate === 'string' ? rawProject.deliveryDate.trim() || undefined : \n                    typeof rawProject.handover === 'string' ? rawProject.handover.trim() || undefined : undefined,\n      \n      // Boolean fields\n      goldenVisaEligible: typeof rawProject.goldenVisaEligible === 'boolean' ? rawProject.goldenVisaEligible : undefined,\n      sellable: typeof rawProject.sellable === 'boolean' ? rawProject.sellable : true,\n      \n      // Complex objects\n      amenities: Array.isArray(rawProject.amenities) ? \n        rawProject.amenities.map((amenity: any) => ({\n          name: applyLanguageFallback(amenity.name) || { en: 'Amenity', ar: 'مرفق' },\n          description: applyLanguageFallback(amenity.description)\n        })).filter((a: any) => a.name) : [],\n      \n      mapPointsOfInterest: [],\n      news: Array.isArray(rawProject.news) ? rawProject.news : [],\n      contact: typeof rawProject.contact === 'object' ? rawProject.contact : undefined,\n      \n      // Additional fields\n      projectPageLink: typeof rawProject.projectPageLink === 'string' ? rawProject.projectPageLink.trim() || undefined : undefined,\n      projectID: rawProject.projectID || rawProject.id || slug,\n    };\n\n    // Normalize POIs with fallback\n    if (rawProject.mapPointsOfInterest) {\n      if (Array.isArray(rawProject.mapPointsOfInterest)) {\n        project.mapPointsOfInterest = rawProject.mapPointsOfInterest.map((poi: any) => ({\n          name: applyLanguageFallback(poi.name) || { en: 'Point of Interest', ar: 'نقطة اهتمام' },\n          distance: applyLanguageFallback(poi.distance),\n          category: typeof poi.category === 'string' ? poi.category : 'general',\n          coordinates: (typeof poi.coordinates === 'object' && poi.coordinates && \n                       typeof poi.coordinates.lat === 'number' && typeof poi.coordinates.lon === 'number') ? \n                       poi.coordinates : { lat: 0, lon: 0 }\n        }));\n      } else if (typeof rawProject.mapPointsOfInterest === 'object') {\n        const poisArray: any[] = [];\n        Object.entries(rawProject.mapPointsOfInterest).forEach(([category, items]) => {\n          if (Array.isArray(items)) {\n            items.forEach((item: any) => {\n              if (typeof item === 'string') {\n                poisArray.push({\n                  name: { en: item, ar: item },\n                  category: category,\n                  coordinates: { lat: 0, lon: 0 }\n                });\n              } else if (typeof item === 'object') {\n                poisArray.push({\n                  name: applyLanguageFallback(item.name) || { en: item, ar: item },\n                  distance: applyLanguageFallback(item.distance),\n                  category: category,\n                  coordinates: (typeof item.coordinates === 'object' && item.coordinates) ? \n                              item.coordinates : { lat: 0, lon: 0 }\n                });\n              }\n            });\n          }\n        });\n        project.mapPointsOfInterest = poisArray;\n      }\n    }\n\n    return project;\n  } catch (error) {\n    console.warn(`⚠️ Error normalizing project in ${filename}:`, error);\n    return null;\n  }\n}\n\nfunction readJSONFile(filePath: string): any[] {\n  try {\n    const content = fs.readFileSync(filePath, 'utf-8');\n    if (!content.trim()) {\n      console.warn(`⚠️ Empty file: ${filePath}`);\n      return [];\n    }\n    \n    const json = JSON.parse(content);\n    if (Array.isArray(json)) return json;\n    return [json];\n  } catch (error) {\n    console.warn(`⚠️ Failed to parse JSON file ${filePath}:`, error);\n    return [];\n  }\n}\n\nfunction loadFromDeveloperDir(developerDir: string, developerName: string): Project[] {\n  const results: Project[] = [];\n  \n  try {\n    const entries = fs.readdirSync(developerDir, { withFileTypes: true });\n    \n    for (const entry of entries) {\n      try {\n        if (entry.isFile() && entry.name.endsWith('.json')) {\n          const filePath = path.join(developerDir, entry.name);\n          const items = readJSONFile(filePath);\n          \n          items.forEach((rawProject: any) => {\n            const normalizedProject = validateAndNormalizeProject(rawProject, entry.name, developerName);\n            if (normalizedProject) {\n              results.push(normalizedProject);\n            }\n          });\n          \n        } else if (entry.isDirectory()) {\n          const subdir = path.join(developerDir, entry.name);\n          const canonical = path.join(subdir, `${entry.name}.json`);\n          let items: any[] = [];\n          \n          if (fs.existsSync(canonical)) {\n            items = readJSONFile(canonical);\n          } else {\n            try {\n              const subentries = fs.readdirSync(subdir, { withFileTypes: true });\n              for (const se of subentries) {\n                if (se.isFile() && se.name.endsWith('.json')) {\n                  const fp = path.join(subdir, se.name);\n                  const read = readJSONFile(fp);\n                  items.push(...read);\n                }\n              }\n            } catch (error) {\n              console.warn(`⚠️ Failed to read subdirectory ${subdir}:`, error);\n            }\n          }\n          \n          items.forEach((rawProject: any) => {\n            const normalizedProject = validateAndNormalizeProject(rawProject, entry.name, developerName);\n            if (normalizedProject) {\n              results.push(normalizedProject);\n            }\n          });\n        }\n      } catch (error) {\n        console.warn(`⚠️ Failed to process entry ${entry.name} in ${developerDir}:`, error);\n      }\n    }\n  } catch (error) {\n    console.warn(`⚠️ Failed to read developer directory ${developerDir}:`, error);\n  }\n  \n  return results;\n}\n\n// 🔥 DYNAMIC LOADING SYSTEM - No more all_projects.json dependency!\nlet projectsCache: Project[] | null = null;\nlet cacheTimestamp: number = 0;\nconst CACHE_DURATION = 5 * 60 * 1000; // 5 minutes cache\n\nexport async function loadAllProjects(): Promise<Project[]> {\n  // Use cache if available and not expired\n  if (projectsCache && (Date.now() - cacheTimestamp) < CACHE_DURATION) {\n    return projectsCache;\n  }\n\n  const dataRoot = path.join(process.cwd(), 'public', 'data');\n  let projects: Project[] = [];\n\n  try {\n    const devEntries = fs.readdirSync(dataRoot, { withFileTypes: true });\n    \n    for (const d of devEntries) {\n      if (!d.isDirectory()) continue;\n      \n      const developerName = d.name;\n      // Skip non-developer directories\n      if (['node_modules', '.git', '.next', '.DS_Store'].includes(developerName)) continue;\n      \n      const developerDir = path.join(dataRoot, developerName);\n      \n      try {\n        const items = loadFromDeveloperDir(developerDir, developerName);\n        if (items.length > 0) {\n          projects.push(...items);\n          console.log(`✅ Loaded ${items.length} projects from ${developerName}`);\n        } else {\n          console.warn(`⚠️ No valid projects found in ${developerName}`);\n        }\n      } catch (error) {\n        console.warn(`⚠️ Failed to load projects from ${developerName}:`, error);\n        // Continue with other developers - don't break the entire system\n        continue;\n      }\n    }\n  } catch (error) {\n    console.warn(`⚠️ Failed to read developer directories:`, error);\n  }\n\n  console.log(`🚀 DYNAMIC LOADING: Total ${projects.length} projects loaded from individual JSON files`);\n  \n  // Update cache\n  projectsCache = projects;\n  cacheTimestamp = Date.now();\n  \n  // إرجاع مصفوفة فارغة بدلاً من إيقاف التطبيق في حالة عدم وجود بيانات\n  return projects;\n}\n\nexport async function getProjectBySlug(dev: string, slug: string): Promise<Project | undefined> {\n  const all = await loadAllProjects();\n  return all.find(p => (p.developer === dev) && (p.slug === slug));\n}\n\nexport async function getProjectsByDeveloper(dev: string): Promise<Project[]> {\n  const allProjects = await loadAllProjects();\n  return allProjects.filter(p => p.developer === dev);\n}\n\nexport async function listDevelopers(): Promise<{ developer: string; count: number }[]> {\n  const counts = new Map<string, number>();\n  const allProjects = await loadAllProjects();\n  for (const p of allProjects) {\n    if (!p.developer) continue;\n    counts.set(p.developer, (counts.get(p.developer) || 0) + 1);\n  }\n  return Array.from(counts.entries()).map(([developer, count]) => ({ developer, count }));\n}\n\n// Server-only synchronous loader moved to a separate file to avoid\n// bundling Node modules like 'fs' into client builds.\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1160, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/imperiumgate/lib/projects.ts"],"sourcesContent":["// lib/projects.ts - ISR Cache Implementation for Imperium Gate\nimport { unstable_cache } from 'next/cache';\nimport type { Project } from './types';\nimport { \n  loadAllProjects as _loadAllProjects,\n  getProjectBySlug as _getProjectBySlug,\n  getProjectsByDeveloper as _getProjectsByDeveloper,\n  listDevelopers as _listDevelopers\n} from './unifiedDataService';\n\n// Cache tags for selective revalidation\nexport const CACHE_TAGS = {\n  ALL_PROJECTS: 'all-projects',\n  DEVELOPERS: 'developers',\n  PROJECT_BY_SLUG: 'project-by-slug',\n  PROJECTS_BY_DEVELOPER: 'projects-by-developer'\n} as const;\n\n// Cache durations (in seconds)\nconst CACHE_DURATIONS = {\n  ALL_PROJECTS: 3600, // 1 hour\n  DEVELOPERS: 7200, // 2 hours\n  PROJECT_DETAILS: 1800, // 30 minutes\n  DEVELOPER_PROJECTS: 1800 // 30 minutes\n} as const;\n\n/**\n * Cached version of loadAllProjects with ISR\n * Revalidates every hour or on-demand\n */\nexport const loadAllProjects = unstable_cache(\n  async (): Promise<Project[]> => {\n    console.log('🔄 Loading all projects (cache miss)');\n    return await _loadAllProjects();\n  },\n  ['all-projects'],\n  {\n    tags: [CACHE_TAGS.ALL_PROJECTS],\n    revalidate: CACHE_DURATIONS.ALL_PROJECTS\n  }\n);\n\n/**\n * Cached version of getProjectBySlug with ISR\n * Revalidates every 30 minutes or on-demand\n */\nexport const getProjectBySlug = unstable_cache(\n  async (developer: string, slug: string): Promise<Project | undefined> => {\n    console.log(`🔄 Loading project ${developer}/${slug} (cache miss)`);\n    return await _getProjectBySlug(developer, slug);\n  },\n  ['project-by-slug'],\n  {\n    tags: [CACHE_TAGS.PROJECT_BY_SLUG, CACHE_TAGS.ALL_PROJECTS],\n    revalidate: CACHE_DURATIONS.PROJECT_DETAILS\n  }\n);\n\n/**\n * Cached version of getProjectsByDeveloper with ISR\n * Revalidates every 30 minutes or on-demand\n */\nexport const getProjectsByDeveloper = unstable_cache(\n  async (developer: string): Promise<Project[]> => {\n    console.log(`🔄 Loading projects for developer ${developer} (cache miss)`);\n    return await _getProjectsByDeveloper(developer);\n  },\n  ['projects-by-developer'],\n  {\n    tags: [CACHE_TAGS.PROJECTS_BY_DEVELOPER, CACHE_TAGS.ALL_PROJECTS],\n    revalidate: CACHE_DURATIONS.DEVELOPER_PROJECTS\n  }\n);\n\n/**\n * Cached version of listDevelopers with ISR\n * Revalidates every 2 hours or on-demand\n */\nexport const listDevelopers = unstable_cache(\n  async (): Promise<{ developer: string; count: number }[]> => {\n    console.log('🔄 Loading developers list (cache miss)');\n    return await _listDevelopers();\n  },\n  ['developers-list'],\n  {\n    tags: [CACHE_TAGS.DEVELOPERS, CACHE_TAGS.ALL_PROJECTS],\n    revalidate: CACHE_DURATIONS.DEVELOPERS\n  }\n);\n\n/**\n * Generate static params for all projects (for generateStaticParams)\n * This helps with static generation at build time\n */\nexport const getAllProjectParams = unstable_cache(\n  async (): Promise<{ developer: string; slug: string }[]> => {\n    console.log('🔄 Generating static params for all projects');\n    const projects = await _loadAllProjects();\n    return projects\n      .filter(project => project.developer) // Filter out projects without developers\n      .map(project => ({\n        developer: project.developer!,\n        slug: project.slug\n      }));\n  },\n  ['all-project-params'],\n  {\n    tags: [CACHE_TAGS.ALL_PROJECTS],\n    revalidate: CACHE_DURATIONS.ALL_PROJECTS\n  }\n);\n\n/**\n * Get all unique developers for static generation\n */\nexport const getAllDeveloperParams = unstable_cache(\n  async (): Promise<string[]> => {\n    console.log('🔄 Generating static params for all developers');\n    const developers = await _listDevelopers();\n    return developers.map(dev => dev.developer);\n  },\n  ['all-developer-params'],\n  {\n    tags: [CACHE_TAGS.DEVELOPERS, CACHE_TAGS.ALL_PROJECTS],\n    revalidate: CACHE_DURATIONS.DEVELOPERS\n  }\n);\n\n/**\n * Utility function to get project count by developer (cached)\n */\nexport const getProjectCountByDeveloper = unstable_cache(\n  async (developer: string): Promise<number> => {\n    const projects = await _getProjectsByDeveloper(developer);\n    return projects.length;\n  },\n  ['project-count-by-developer'],\n  {\n    tags: [CACHE_TAGS.PROJECTS_BY_DEVELOPER, CACHE_TAGS.ALL_PROJECTS],\n    revalidate: CACHE_DURATIONS.DEVELOPER_PROJECTS\n  }\n);\n\n/**\n * Get featured projects (cached)\n * Returns projects marked as featured or top projects by views\n */\nexport const getFeaturedProjects = unstable_cache(\n  async (limit: number = 6): Promise<Project[]> => {\n    console.log(`🔄 Loading ${limit} featured projects (cache miss)`);\n    const allProjects = await _loadAllProjects();\n    \n    // Filter featured projects or fallback to first projects\n    const featured = allProjects.filter(p => p.featured === true);\n    if (featured.length >= limit) {\n      return featured.slice(0, limit);\n    }\n    \n    // If not enough featured projects, return first projects\n    return allProjects.slice(0, limit);\n  },\n  ['featured-projects'],\n  {\n    tags: [CACHE_TAGS.ALL_PROJECTS],\n    revalidate: CACHE_DURATIONS.ALL_PROJECTS\n  }\n);\n\n// Export cache tags for use in revalidation API\nexport { CACHE_TAGS as PROJECT_CACHE_TAGS };"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1311, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/imperiumgate/app/%5Blocale%5D/projects/%5Bdeveloper%5D/%5Bslug%5D/page.tsx"],"sourcesContent":["import AmenitiesGrid from '@/components/project/AmenitiesGrid';\nimport ContactBlock from '@/components/project/ContactBlock';\nimport DocsBlock from '@/components/project/DocsBlock';\nimport Gallery from '@/components/project/Gallery';\nimport Insights from '@/components/project/Insights';\nimport KeyStats from '@/components/project/KeyStats';\nimport NewsBlock from '@/components/project/NewsBlock';\nimport Overview from '@/components/project/Overview';\nimport ProjectHero from '@/components/project/ProjectHero';\nimport ProjectNotFound from '@/components/project/ProjectNotFound';\nimport RelatedCarousel from '@/components/project/RelatedCarousel';\nimport SectionNav from '@/components/project/SectionNav';\nimport ProjectLocationMapWrapper from '@/components/project/ProjectLocationMapWrapper';\nimport ThreeDTourButton from '@/components/project/3DTourButton';\nimport VideoBlock from '@/components/project/VideoBlock';\nimport ROICalculator from '@/components/ui/ROICalculator';\nimport { deriveProjectLatLon } from '@/lib/geo';\nimport { type Locale } from '@/lib/i18n-utils';\nimport { getAllProjectParams, getProjectBySlug, getProjectsByDeveloper, loadAllProjects } from '@/lib/projects';\n\n// ISR Configuration - Revalidate every 30 minutes\nexport const revalidate = 1800;\n\n// Helper to handle translation objects or strings safely\nfunction translateText(\n  v?: { ar?: string; en?: string } | string,\n  locale: Locale = 'ar'\n): string {\n  if (!v) return '';\n  if (typeof v === 'string') return v;\n  return v[locale] || v.en || v.ar || '';\n}\n\nexport async function generateStaticParams() {\n  // 🚀 ISR STATIC PARAMS: Generate static params with cached data\n  const projectParams = await getAllProjectParams();\n  return projectParams\n    .filter((p) => p.slug && p.slug.trim() !== '')\n    .flatMap((p) =>\n      ['ar', 'en'].map(locale => ({\n        locale,\n        developer: p.developer || 'unknown',\n        slug: p.slug,\n      }))\n    );\n}\n\nexport default async function ProjectDetail({ params }: { params: Promise<{ locale: Locale; developer: string; slug: string }> }) {\n  const { locale = 'ar', developer, slug } = await params;\n  // 🚀 ISR CACHED LOADING: Get project with cached data\n  const project = await getProjectBySlug(developer, slug);\n\n  // ✅ إذا المشروع غير موجود، اعرض صفحة افتراضية بالاسم بدل 404\n  if (!project) {\n    const [developerProjects, allProjects] = await Promise.all([\n      getProjectsByDeveloper(developer),\n      loadAllProjects()\n    ]);\n    const otherProjects = allProjects.filter((p: any) => p.developer !== developer);\n    return <ProjectNotFound developer={developer} slug={slug} developerProjects={developerProjects} otherProjects={otherProjects} />;\n  }\n\n  // Get related projects from same developer (cached)\n  const allDeveloperProjects = project.developer ? await getProjectsByDeveloper(project.developer) : [];\n  const related = allDeveloperProjects\n    .filter((p: any) => p.slug !== project.slug)\n    .slice(0, 8);\n\n  const { lat, lon } = deriveProjectLatLon(project);\n\n  const hasGallery = !!project.galleryImages?.length;\n  const has3D = !!project['3D_TourLink'];\n  const hasVideo = !!project.videoLink;\n  const hasPDF = !!project.brochurePdfLink;\n  const hasAmenities = !!project.amenities?.length;\n  const hasInsights = !!project.insights;\n  const hasNews = Array.isArray(project.news) && project.news.length > 0;\n  const hasContact = !!project.contact;\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-b from-black via-zinc-950 to-black text-light\">\n      <ProjectHero project={project} />\n      <div className=\"max-w-6xl mx-auto px-6\">\n        <KeyStats project={project} locale={locale} />\n      </div>\n\n      <div className=\"max-w-6xl mx-auto px-6 py-8\">\n        <ROICalculator project={project} locale={locale} />\n      </div>\n\n      <SectionNav project={project} locale={locale} />\n\n      <div id=\"overview\" className=\"max-w-6xl mx-auto px-6 py-16\">\n        <Overview project={project} locale={locale} />\n      </div>\n\n      {hasGallery && (\n        <div id=\"gallery\" className=\"max-w-6xl mx-auto px-6 py-16\">\n          <Gallery\n            images={project.galleryImages!}\n            title={translateText(project.projectName, locale) || project.slug}\n          />\n        </div>\n      )}\n\n      {has3D && (\n        <div id=\"tour3d\" className=\"max-w-6xl mx-auto px-6 py-16\">\n          <div className=\"text-center mb-8\">\n            <h2 className=\"text-3xl font-bold text-gold mb-4\">\n              {locale === 'ar' ? '🏛️ جولة افتراضية' : '🏛️ Virtual Tour'}\n            </h2>\n            <p className=\"text-gray-400\">\n              {locale === 'ar' \n                ? 'استكشف المشروع بتقنية 360 درجة'\n                : 'Explore the project in 360°'\n              }\n            </p>\n          </div>\n          <ThreeDTourButton \n            tourUrl={project['3D_TourLink']!} \n            projectName={translateText(project.projectName, locale) || project.slug}\n            locale={locale}\n          />\n        </div>\n      )}\n\n      {hasVideo && (\n        <div id=\"video\" className=\"max-w-6xl mx-auto px-6 py-16\">\n          <VideoBlock\n            src={project.videoLink!}\n            poster={project.heroImage || project.galleryImages?.[0]}\n          />\n        </div>\n      )}\n\n      <div id=\"map\" className=\"max-w-6xl mx-auto px-6 py-16\">\n        <div className=\"mb-4\">\n          <h2 className=\"text-2xl font-bold text-gray-800 mb-2\">\n            {locale === 'ar' ? '📍 الموقع' : '📍 Location'}\n          </h2>\n          <p className=\"text-gray-600 text-sm\">\n            {locale === 'ar' \n              ? 'موقع المشروع على الخريطة'\n              : 'Project location on the map'\n            }\n          </p>\n        </div>\n        <ProjectLocationMapWrapper\n          latitude={lat ?? undefined}\n          longitude={lon ?? undefined}\n          title={translateText(project.projectName, locale) || project.slug}\n          locationText={translateText(project.location, locale)}\n          height=\"400px\"\n        />\n      </div>\n\n      {hasAmenities && (\n        <div id=\"amenities\" className=\"max-w-6xl mx-auto px-6 py-16\">\n          <AmenitiesGrid amenities={project.amenities!} locale={locale} />\n        </div>\n      )}\n\n  <div id=\"docs\" className=\"max-w-6xl mx-auto px-6 py-16\">\n    {hasPDF || hasGallery ? (\n      <DocsBlock\n        brochureUrl={project.brochurePdfLink}\n        galleryImages={project.galleryImages || []}\n        projectName={\n          translateText(project.projectName, locale) || project.slug\n        }\n      />\n    ) : (\n      <ProjectNotFound\n        developer={developer}\n        slug={slug}\n        developerProjects={allDeveloperProjects}\n        otherProjects={[]} // Empty for now, can be loaded if needed\n      />\n    )}\n  </div>\n\n      {hasInsights && (\n        <div id=\"insights\" className=\"max-w-6xl mx-auto px-6 py-16\">\n          <Insights text={translateText(project.insights, locale)} />\n        </div>\n      )}\n\n      {hasNews && (\n        <div id=\"news\" className=\"max-w-6xl mx-auto px-6 py-16\">\n          <NewsBlock news={project.news || []} locale={locale} />\n        </div>\n      )}\n\n      {hasContact && (\n        <div id=\"contact\" className=\"max-w-6xl mx-auto px-6 py-16\">\n          <ContactBlock\n            contact={project.contact}\n            projectName={\n              translateText(project.projectName, locale) || project.slug\n            }\n            developer={project.developer}\n            slug={project.slug}\n          />\n        </div>\n      )}\n\n\n      {related.length > 0 && (\n        <div id=\"related\" className=\"max-w-6xl mx-auto px-6 py-16\">\n          <RelatedCarousel projects={related} locale={locale} />\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}