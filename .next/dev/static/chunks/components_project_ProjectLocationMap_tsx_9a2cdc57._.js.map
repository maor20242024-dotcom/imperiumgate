{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/imperiumgate/components/project/ProjectLocationMap.tsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\n\ntype Props = {\n  latitude?: number | null;\n  longitude?: number | null;\n  title?: string;\n  locationText?: string | null;\n  height?: string; // e.g., \"400px\"\n  className?: string;\n};\n\nconst isValidCoordinate = (value: unknown): value is number => {\n  return typeof value === \"number\" && !Number.isNaN(value) && Number.isFinite(value);\n};\n\nexport default function ProjectLocationMap({\n  latitude,\n  longitude,\n  title,\n  locationText,\n  height = \"400px\",\n  className,\n}: Props) {\n  const hasLatLon =\n    isValidCoordinate(latitude) &&\n    isValidCoordinate(longitude) &&\n    // استبعاد قيمة 0 التي قد تأتي من بيانات غير صالحة\n    Math.abs(latitude as number) > 0.0001 &&\n    Math.abs(longitude as number) > 0.0001;\n\n  // عند توفر الإحداثيات: استخدم تضمين خرائط Google لعرض موقع المشروع فقط\n  if (hasLatLon) {\n    const lat = latitude as number;\n    const lon = longitude as number;\n    const src = `https://maps.google.com/maps?q=${lat},${lon}&t=&z=15&ie=UTF8&iwloc=&output=embed`;\n    return (\n      <div\n        className={\n          \"rounded-lg overflow-hidden border border-[var(--gold)] shadow-[0_0_0_1px_rgba(var(--gold-rgb),0.35)] \" +\n          (className ?? \"\")\n        }\n        style={{ height }}\n      >\n        <iframe\n          title={title ?? \"Project Location Map\"}\n          src={src}\n          width=\"100%\"\n          height=\"100%\"\n          loading=\"lazy\"\n          style={{ border: 0 }}\n          referrerPolicy=\"no-referrer-when-downgrade\"\n          allowFullScreen\n        />\n      </div>\n    );\n  }\n\n  // Fallback: Google Maps embed using location text if provided.\n  const q = (locationText ?? title ?? \"\").trim();\n  if (q.length > 0) {\n    const src = `https://maps.google.com/maps?q=${encodeURIComponent(q)}&t=&z=13&ie=UTF8&iwloc=&output=embed`;\n    return (\n      <div\n        className={\n          \"rounded-lg overflow-hidden border border-[var(--gold)] shadow-[0_0_0_1px_rgba(var(--gold-rgb),0.25)] \" +\n          (className ?? \"\")\n        }\n        style={{ height }}\n      >\n        <iframe\n          title={title ?? \"Project Location Map\"}\n          src={src}\n          width=\"100%\"\n          height=\"100%\"\n          loading=\"lazy\"\n          style={{ border: 0 }}\n          referrerPolicy=\"no-referrer-when-downgrade\"\n          allowFullScreen\n        />\n      </div>\n    );\n  }\n\n  // No coordinates and no location text available.\n  return (\n    <div\n      className={\n        \"flex items-center justify-center rounded-lg border border-neutral-300 bg-neutral-50 text-neutral-700 \" +\n        (className ?? \"\")\n      }\n      style={{ height }}\n    >\n      <span>\n        لا توجد معلومات كافية لعرض الخريطة حالياً.\n      </span>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;AAaA,MAAM,oBAAoB,CAAC;IACzB,OAAO,OAAO,UAAU,YAAY,CAAC,OAAO,KAAK,CAAC,UAAU,OAAO,QAAQ,CAAC;AAC9E;AAEe,SAAS,mBAAmB,EACzC,QAAQ,EACR,SAAS,EACT,KAAK,EACL,YAAY,EACZ,SAAS,OAAO,EAChB,SAAS,EACH;IACN,MAAM,YACJ,kBAAkB,aAClB,kBAAkB,cAClB,kDAAkD;IAClD,KAAK,GAAG,CAAC,YAAsB,UAC/B,KAAK,GAAG,CAAC,aAAuB;IAElC,uEAAuE;IACvE,IAAI,WAAW;QACb,MAAM,MAAM;QACZ,MAAM,MAAM;QACZ,MAAM,MAAM,CAAC,+BAA+B,EAAE,IAAI,CAAC,EAAE,IAAI,oCAAoC,CAAC;QAC9F,qBACE,6LAAC;YACC,WACE,0GACA,CAAC,aAAa,EAAE;YAElB,OAAO;gBAAE;YAAO;sBAEhB,cAAA,6LAAC;gBACC,OAAO,SAAS;gBAChB,KAAK;gBACL,OAAM;gBACN,QAAO;gBACP,SAAQ;gBACR,OAAO;oBAAE,QAAQ;gBAAE;gBACnB,gBAAe;gBACf,eAAe;;;;;;;;;;;IAIvB;IAEA,+DAA+D;IAC/D,MAAM,IAAI,CAAC,gBAAgB,SAAS,EAAE,EAAE,IAAI;IAC5C,IAAI,EAAE,MAAM,GAAG,GAAG;QAChB,MAAM,MAAM,CAAC,+BAA+B,EAAE,mBAAmB,GAAG,oCAAoC,CAAC;QACzG,qBACE,6LAAC;YACC,WACE,0GACA,CAAC,aAAa,EAAE;YAElB,OAAO;gBAAE;YAAO;sBAEhB,cAAA,6LAAC;gBACC,OAAO,SAAS;gBAChB,KAAK;gBACL,OAAM;gBACN,QAAO;gBACP,SAAQ;gBACR,OAAO;oBAAE,QAAQ;gBAAE;gBACnB,gBAAe;gBACf,eAAe;;;;;;;;;;;IAIvB;IAEA,iDAAiD;IACjD,qBACE,6LAAC;QACC,WACE,0GACA,CAAC,aAAa,EAAE;QAElB,OAAO;YAAE;QAAO;kBAEhB,cAAA,6LAAC;sBAAK;;;;;;;;;;;AAKZ;KAlFwB","debugId":null}}]
}