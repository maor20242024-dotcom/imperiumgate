{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/imgv3/components/ui/LoadingSpinner.tsx"],"sourcesContent":["'use client';\n\nimport { motion } from 'framer-motion';\n\ninterface LoadingSpinnerProps {\n  size?: 'sm' | 'md' | 'lg';\n  className?: string;\n}\n\nexport default function LoadingSpinner({ size = 'md', className = '' }: LoadingSpinnerProps) {\n  const sizeClasses = {\n    sm: 'w-4 h-4',\n    md: 'w-8 h-8',\n    lg: 'w-12 h-12',\n  };\n\n  return (\n    <div className={`flex items-center justify-center ${className}`}>\n      <motion.div\n        style={{\n          width: size === 'sm' ? '1rem' : size === 'md' ? '2rem' : '3rem',\n          height: size === 'sm' ? '1rem' : size === 'md' ? '2rem' : '3rem',\n          border: '2px solid rgba(212, 175, 55, 0.3)',\n          borderTop: '2px solid rgb(212, 175, 55)',\n          borderRadius: '50%',\n        }}\n        animate={{ rotate: 360 }}\n        transition={{\n          duration: 1,\n          repeat: Infinity,\n          ease: 'linear',\n        }}\n      />\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AASe,SAAS,eAAe,EAAE,OAAO,IAAI,EAAE,YAAY,EAAE,EAAuB;IACzF,MAAM,cAAc;QAClB,IAAI;QACJ,IAAI;QACJ,IAAI;IACN;IAEA,qBACE,6LAAC;QAAI,WAAW,CAAC,iCAAiC,EAAE,WAAW;kBAC7D,cAAA,6LAAC,uLAAM,CAAC,GAAG;YACT,OAAO;gBACL,OAAO,SAAS,OAAO,SAAS,SAAS,OAAO,SAAS;gBACzD,QAAQ,SAAS,OAAO,SAAS,SAAS,OAAO,SAAS;gBAC1D,QAAQ;gBACR,WAAW;gBACX,cAAc;YAChB;YACA,SAAS;gBAAE,QAAQ;YAAI;YACvB,YAAY;gBACV,UAAU;gBACV,QAAQ;gBACR,MAAM;YACR;;;;;;;;;;;AAIR;KA1BwB","debugId":null}},
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/imgv3/components/ui/LazyVideo.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useRef, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport LoadingSpinner from './LoadingSpinner';\n\ninterface LazyVideoProps {\n  src: string;\n  poster?: string;\n  className?: string;\n  controls?: boolean;\n  autoPlay?: boolean;\n  muted?: boolean;\n  loop?: boolean;\n  width?: string | number;\n  height?: string | number;\n  alt?: string;\n  style?: React.CSSProperties;\n  // When not in view, display poster image as placeholder\n  // Set to false when the parent already renders a background (e.g., ProjectHero)\n  showPosterWhenIdle?: boolean;\n}\n\nexport default function LazyVideo({\n  src,\n  poster,\n  className = '',\n  controls = true,\n  autoPlay = false,\n  muted = true,\n  loop = false,\n  width,\n  height,\n  alt = 'Video content',\n  style,\n  showPosterWhenIdle = true\n}: LazyVideoProps) {\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [isInView, setIsInView] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const videoRef = useRef<HTMLVideoElement>(null);\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const observer = new IntersectionObserver(\n      ([entry]) => {\n        if (entry.isIntersecting && !isInView) {\n          setIsInView(true);\n          setIsLoading(true);\n        }\n      },\n      {\n        threshold: 0.1,\n        rootMargin: '50px'\n      }\n    );\n\n    if (containerRef.current) {\n      observer.observe(containerRef.current);\n    }\n\n    return () => {\n      if (containerRef.current) {\n        observer.unobserve(containerRef.current);\n      }\n    };\n  }, [isInView]);\n\n  // Cleanup effect to handle video element when component unmounts\n  useEffect(() => {\n    return () => {\n      // Clean up video element if it exists\n      if (videoRef.current) {\n        videoRef.current.pause();\n        videoRef.current.src = '';\n        videoRef.current.load();\n      }\n    };\n  }, []);\n\n  const handleVideoLoad = () => {\n    setIsLoaded(true);\n    setIsLoading(false);\n    setError(false);\n  };\n\n  const handleVideoError = (e: React.SyntheticEvent<HTMLVideoElement, Event>) => {\n    const video = e.currentTarget;\n    const error = video.error;\n    \n    // Only set error state for actual errors, not aborted requests\n    if (error && error.code !== MediaError.MEDIA_ERR_ABORTED) {\n      console.warn('Video loading error:', {\n        code: error.code,\n        message: error.message,\n        src: src\n      });\n      setError(true);\n    }\n    \n    setIsLoading(false);\n  };\n\n  const handleVideoAbort = () => {\n    // Video loading was aborted (normal during navigation)\n    setIsLoading(false);\n    // Don't set error state for aborted requests\n  };\n\n  return (\n    <div\n      ref={containerRef}\n      className={`relative overflow-hidden ${className}`}\n      style={{ width, height }}\n    >\n      {!isInView && (\n        showPosterWhenIdle && poster ? (\n          <div className=\"absolute inset-0 w-full h-full bg-gray-900/40 flex items-center justify-center pointer-events-none\">\n            <img\n              src={poster}\n              alt={alt}\n              className=\"w-full h-full object-cover\"\n            />\n          </div>\n        ) : (\n          // No poster when idle — parent background will be visible\n          <div className=\"absolute inset-0 pointer-events-none\" aria-hidden=\"true\" />\n        )\n      )}\n\n      {isInView && (\n        <>\n          {isLoading && (\n            <motion.div\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              style={{\n                position: 'absolute',\n                inset: 0,\n                backgroundColor: 'rgba(17, 24, 39, 0.5)',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                zIndex: 10,\n                pointerEvents: 'none'\n              }}\n            >\n              <div className=\"text-center\">\n                <LoadingSpinner size=\"lg\" />\n                <p className=\"text-white mt-4\">Loading video...</p>\n              </div>\n            </motion.div>\n          )}\n\n          {error && (\n            <motion.div\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              style={{\n                position: 'absolute',\n                inset: 0,\n                backgroundColor: 'rgba(17, 24, 39, 0.5)',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center'\n              }}\n            >\n              <div className=\"text-center text-red-400\">\n                <div className=\"text-4xl mb-2\">⚠️</div>\n                <p>Failed to load video</p>\n              </div>\n            </motion.div>\n          )}\n\n          <video\n            ref={videoRef}\n            src={src}\n            poster={poster || '/images/hero-fallback.jpg'}\n            controls={controls}\n            autoPlay={autoPlay}\n            muted={muted}\n            loop={loop}\n            playsInline\n            preload=\"none\"\n            style={style}\n            className={`w-full h-full object-cover transition-opacity duration-300 ${\n              isLoaded ? 'opacity-100' : 'opacity-0'\n            }`}\n            onLoadedData={handleVideoLoad}\n            onError={handleVideoError}\n            onAbort={handleVideoAbort}\n          />\n        </>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 310, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/imgv3/components/home/Hero.tsx"],"sourcesContent":["// components/home/Hero.tsx\n'use client';\n\nimport Link from 'next/link';\nimport { motion } from 'framer-motion';\nimport LazyVideo from '@/components/ui/LazyVideo';\n\ntype Props = {\n  titleAr: string;\n  subtitleAr: string;\n  titleEn: string;\n  subtitleEn: string;\n  locale: 'ar' | 'en';\n};\n\nexport default function Hero({\n  titleAr,\n  subtitleAr,\n  titleEn,\n  subtitleEn,\n  locale,\n}: Props) {\n  const title = locale === 'ar' ? titleAr : titleEn;\n  const subtitle = locale === 'ar' ? subtitleAr : subtitleEn;\n\n  return (\n    <section className=\"relative h-screen min-h-[100svh] overflow-hidden\">\n      {/* خلفية فيديو + تدرّج */}\n      <div className=\"absolute inset-0 -z-10\">\n        <LazyVideo\n          src=\"https://ggfx-onebrokergroup.s3.eu-west-2.amazonaws.com/i/Homepage_Banner_Video2_8328_Bdd5c7_f31f1b5265.mp4\"\n          autoPlay\n          loop\n          muted\n          controls={false}\n          poster=\"/images/hero-fallback.jpg\"\n          className=\"w-full h-full object-cover\"\n          alt=\"Homepage hero video\"\n        />\n        <div className=\"absolute inset-0 w-full h-full bg-gradient-to-b from-black/40 via-black/20 to-black/70\" />\n      </div>\n\n      {/* المحتوى */}\n      <div\n        className={`relative z-10 mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 h-screen flex items-end pb-24 ${\n          locale === 'ar' ? 'text-right' : 'text-left'\n        }`}\n      >\n        <div className={`text-white max-w-3xl ${locale === 'ar' ? 'ml-auto' : ''}`}>\n          <h1\n            className=\"luxury-title text-4xl md:text-6xl lg:text-7xl font-bold gold-gradient luxury-text-shadow\"\n            dir=\"auto\"\n          >\n            <span className=\"font-display\">{title}</span>\n          </h1>\n\n          <p\n            className={`mt-6 text-white/90 text-lg md:text-xl lg:text-2xl leading-relaxed ${\n              locale === 'ar' ? 'font-arabic' : 'font-sans'\n            }`}\n          >\n            {subtitle}\n          </p>\n\n          <div className=\"mt-8 flex gap-4\">\n            {/* ✅ استخدم مسارات ثابتة جاهزة كسلاسل، بدون params أو أقواس مربعة */}\n            <motion.div whileHover={{ scale: 1.05 }} whileTap={{ scale: 0.97 }}>\n              <Link\n                href={`/${locale}/projects`}\n                prefetch={false}\n                className=\"gold-btn luxury-glow hover:animate-gold-pulse transition-all duration-300 will-change-transform\"\n              >\n                {locale === 'ar' ? 'استكشف المشاريع' : 'Explore Projects'}\n              </Link>\n            </motion.div>\n\n            <motion.div whileHover={{ scale: 1.05 }} whileTap={{ scale: 0.97 }}>\n              <Link\n                href={`/${locale}/contact`}\n                prefetch={false}\n                className=\"gold-outline luxury-border hover:luxury-glow transition-all duration-300 will-change-transform\"\n              >\n                {locale === 'ar' ? 'تواصل معنا' : 'Contact Us'}\n              </Link>\n            </motion.div>\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n}"],"names":[],"mappings":"AAAA,2BAA2B;;;;;;AAG3B;AACA;AACA;AAJA;;;;;AAce,SAAS,KAAK,EAC3B,OAAO,EACP,UAAU,EACV,OAAO,EACP,UAAU,EACV,MAAM,EACA;IACN,MAAM,QAAQ,WAAW,OAAO,UAAU;IAC1C,MAAM,WAAW,WAAW,OAAO,aAAa;IAEhD,qBACE,6LAAC;QAAQ,WAAU;;0BAEjB,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,4IAAS;wBACR,KAAI;wBACJ,QAAQ;wBACR,IAAI;wBACJ,KAAK;wBACL,UAAU;wBACV,QAAO;wBACP,WAAU;wBACV,KAAI;;;;;;kCAEN,6LAAC;wBAAI,WAAU;;;;;;;;;;;;0BAIjB,6LAAC;gBACC,WAAW,CAAC,mFAAmF,EAC7F,WAAW,OAAO,eAAe,aACjC;0BAEF,cAAA,6LAAC;oBAAI,WAAW,CAAC,qBAAqB,EAAE,WAAW,OAAO,YAAY,IAAI;;sCACxE,6LAAC;4BACC,WAAU;4BACV,KAAI;sCAEJ,cAAA,6LAAC;gCAAK,WAAU;0CAAgB;;;;;;;;;;;sCAGlC,6LAAC;4BACC,WAAW,CAAC,kEAAkE,EAC5E,WAAW,OAAO,gBAAgB,aAClC;sCAED;;;;;;sCAGH,6LAAC;4BAAI,WAAU;;8CAEb,6LAAC,uLAAM,CAAC,GAAG;oCAAC,YAAY;wCAAE,OAAO;oCAAK;oCAAG,UAAU;wCAAE,OAAO;oCAAK;8CAC/D,cAAA,6LAAC,0KAAI;wCACH,MAAM,CAAC,CAAC,EAAE,OAAO,SAAS,CAAC;wCAC3B,UAAU;wCACV,WAAU;kDAET,WAAW,OAAO,oBAAoB;;;;;;;;;;;8CAI3C,6LAAC,uLAAM,CAAC,GAAG;oCAAC,YAAY;wCAAE,OAAO;oCAAK;oCAAG,UAAU;wCAAE,OAAO;oCAAK;8CAC/D,cAAA,6LAAC,0KAAI;wCACH,MAAM,CAAC,CAAC,EAAE,OAAO,QAAQ,CAAC;wCAC1B,UAAU;wCACV,WAAU;kDAET,WAAW,OAAO,eAAe;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQlD;KA3EwB","debugId":null}},
    {"offset": {"line": 470, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/imgv3/lib/contentful-utils.ts"],"sourcesContent":["/**\n * أدوات تحسين روابط Contentful + حل مسارات الوسائط (directAccess)\n * - tuneContentful*: لتحسين الصور من Contentful\n * - removeContentfulProxy: لإرجاع رابط Contentful الأصلي إن كان يمر عبر /api/proxy/file\n * - directAccess: يقرّر إن كان الرابط يجب أن يُحمَّل مباشرة أو عبر البروكسي\n */\n\n/* ===================== تحسينات Contentful للصور ===================== */\n\n/**\n * تحسين رابط Contentful لتقليل الحجم وتحسين الأداء\n * @param url - الرابط الأصلي من Contentful\n * @param options - خيارات التحسين\n * @returns الرابط المحسن\n */\nexport function tuneContentful(\n  url: string,\n  options: {\n    quality?: number;\n    width?: number;\n    format?: 'webp' | 'avif' | 'jpg' | 'png';\n    removeHeight?: boolean;\n  } = {}\n): string {\n  try {\n    const u = new URL(url);\n\n    // تحقق من أن الرابط من Contentful\n    if (!u.hostname.endsWith('ctfassets.net')) {\n      return url;\n    }\n\n    const {\n      quality = 70,\n      width = 1600,\n      format = 'webp',\n      removeHeight = true,\n    } = options;\n\n    // تطبيق التحسينات\n    u.searchParams.set('fm', format);\n    u.searchParams.set('q', quality.toString());\n\n    // تعديل العرض إذا كان موجوداً\n    if (u.searchParams.has('w')) {\n      u.searchParams.set('w', width.toString());\n    }\n\n    // إزالة الارتفاع للسماح لـ Next/Image بضبطه تلقائياً\n    if (removeHeight && u.searchParams.has('h')) {\n      u.searchParams.delete('h');\n    }\n\n    return u.toString();\n  } catch {\n    // في حالة خطأ في تحليل الرابط، أرجع الرابط الأصلي\n    return url;\n  }\n}\n\n/** تحسين رابط للصور في المعارض (جودة أقل للتحميل السريع) */\nexport function tuneContentfulForGallery(url: string): string {\n  return tuneContentful(url, {\n    quality: 60,\n    width: 1200,\n    format: 'webp',\n  });\n}\n\n/** تحسين رابط للصور المصغرة */\nexport function tuneContentfulForThumbnail(url: string): string {\n  return tuneContentful(url, {\n    quality: 65,\n    width: 400,\n    format: 'webp',\n  });\n}\n\n/** تحسين رابط للصور عالية الجودة (Hero images) */\nexport function tuneContentfulForHero(url: string): string {\n  return tuneContentful(url, {\n    quality: 80,\n    width: 1920,\n    format: 'webp',\n  });\n}\n\n/**\n * إزالة البروكسي من رابط Contentful إذا كان يمر عبر /api/proxy/file\n */\nexport function removeContentfulProxy(url: string): string {\n  try {\n    const u = new URL(url);\n\n    // تحقق من أن الرابط يمر عبر البروكسي\n    if (u.pathname === '/api/proxy/file' && u.searchParams.has('url')) {\n      const originalUrl = u.searchParams.get('url');\n      if (originalUrl) {\n        const decodedUrl = decodeURIComponent(originalUrl);\n        const originalU = new URL(decodedUrl);\n\n        // تحقق من أن الرابط الأصلي من Contentful\n        if (originalU.hostname.endsWith('ctfassets.net')) {\n          return decodedUrl;\n        }\n      }\n    }\n\n    return url;\n  } catch {\n    return url;\n  }\n}\n\n/* ===================== حل مسارات الوسائط (بروكسي/تحميل مباشر) ===================== */\n\n/** تطابق آمن: يطابق الدومين نفسه أو أي تحت-دومين منه */\nfunction hostMatches(host: string, domain: string) {\n  return host === domain || host.endsWith(`.${domain}`);\n}\n\n/** لائحة الدومينات التي يجب تحميلها مباشرة (بدون بروكسي) */\nconst SKIP_DIRECT_HOSTS = [\n  // Contentful\n  'images.ctfassets.net',\n  'assets.ctfassets.net',\n  'downloads.ctfassets.net',\n  'videos.ctfassets.net',\n\n  // Emaar\n  'cdn.properties.emaar.com',\n  'properties.emaar.com',\n\n  // Sobha\n  'sobharealty.com',\n  'sobha.com',\n\n  // Nakheel\n  'www.nakheel.com',\n  'nakheel-aut.sitefinity.cloud',\n\n  // DAMAC CDN\n  'prod-cdn.damacproperties.com',\n\n  // PropVR / Matterport (جولات 3D)\n  'view.propvr.tech',\n  'propvr.tech',\n  'my.matterport.com',\n  'matterport.com',\n\n  // منصات فيديو\n  'www.youtube.com',\n  'youtu.be',\n  'player.vimeo.com',\n\n  // خرائط\n  'www.google.com',\n  'maps.google.com',\n\n  // مستضيفات وثائق\n  'dubaiholding.box.com',\n  'www.scribd.com',\n];\n\n/**\n * ✅ الدالة الموحّدة لاستخدامها في المكونات:\n * - تعيد رابطًا مباشرًا للدومينات الموثوقة أعلاه\n * - تمرّر الباقي عبر /api/proxy/file\n * - تحافظ على الروابط المحلية/النسبية و data:/blob:\n */\nexport function directAccess(src: string | null | undefined): string {\n  if (!src) return '';\n\n  const raw = src.trim();\n  const lower = raw.toLowerCase();\n\n  // اترك الروابط المحلية والـ data/blob كما هي\n  if (\n    lower.startsWith('/') ||                // داخل public أو مسار نسبي\n    lower.startsWith('data:') ||\n    lower.startsWith('blob:')\n  ) {\n    return raw;\n  }\n\n  // ابنِ URL بقاعدة آمنة في SSR/CSR\n  const base = 'http://localhost';\n\n  let u: URL;\n  try {\n    u = new URL(raw, base);\n  } catch {\n    // في حال مسار غير قابل للبارس، أعده كما هو\n    return raw;\n  }\n\n  const host = (u.hostname || '').toLowerCase();\n\n  // إن كان ضمن لائحة التخطي، حمّل مباشرة\n  if (SKIP_DIRECT_HOSTS.some((d) => hostMatches(host, d))) {\n    return u.toString();\n  }\n\n  // خلاف ذلك، مرّره عبر البروكسي\n  return `/api/proxy/file?url=${encodeURIComponent(u.toString())}`;\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 629, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/imgv3/components/home/OrbitCarousel.tsx"],"sourcesContent":["'use client';\n\nimport { directAccess } from '@/lib/contentful-utils';\nimport { useEffect, useMemo, useState } from 'react';\nimport LazyVideo from '@/components/ui/LazyVideo';\n\ntype Slide = {\n  videoLink: string;\n  developer?: string;\n  title?: string;\n  fallbackImage?: string;\n};\n\nexport default function OrbitCarousel({ slides }: { slides: Slide[] }) {\n  const [active, setActive] = useState(0);\n  const [intervalRef, setIntervalRef] = useState<NodeJS.Timeout | null>(null);\n\n  // Memoize slides to prevent unnecessary re-renders\n  const memoizedSlides = useMemo(() => slides || [], [slides]);\n\n  // Auto-advance carousel with cleanup\n  useEffect(() => {\n    if (!memoizedSlides.length) return;\n    \n    const id = setInterval(() => {\n      setActive((prevActive) => (prevActive + 1) % memoizedSlides.length);\n    }, 8000);\n    setIntervalRef(id);\n\n    return () => {\n      if (id) clearInterval(id);\n    };\n  }, [memoizedSlides.length]);\n\n  // Reset auto-advance timer on manual change\n  useEffect(() => {\n    if (!memoizedSlides.length) return;\n    if (intervalRef) {\n      clearInterval(intervalRef);\n      const id = setInterval(() => {\n        setActive((prevActive) => (prevActive + 1) % memoizedSlides.length);\n      }, 8000);\n      setIntervalRef(id);\n    }\n  }, [active, memoizedSlides.length]);\n\n  return (\n    <div className=\"relative w-full h-screen overflow-hidden bg-black\">\n      {/* إطار ذهبي أنيق حول الكاروسيل */}\n      <div className=\"absolute inset-0 border-4 border-gold/40 rounded-3xl shadow-2xl shadow-gold/20 z-10 pointer-events-none\"></div>\n      {/* تأثير توهج ذهبي */}\n      <div className=\"absolute inset-0 bg-gradient-to-r from-gold/10 via-transparent to-gold/10 animate-pulse-slow z-5 pointer-events-none\"></div>\n      \n      {/* Render only the active slide to avoid loading all videos at once */}\n      {memoizedSlides[active] && (\n        <div\n          key={`slide-${active}`}\n          className={\"absolute inset-0 transition-opacity duration-1000 will-change-[opacity] opacity-100\"}\n        >\n          {/* إطار ذهبي داخلي حول الفيديو */}\n          <div className=\"absolute inset-4 border-2 border-gold/60 rounded-2xl shadow-lg shadow-gold/30 z-10 pointer-events-none\"></div>\n          <LazyVideo\n            src={directAccess(memoizedSlides[active].videoLink)}\n            poster={directAccess(memoizedSlides[active].fallbackImage) || '/images/hero-fallback.jpg'}\n            autoPlay\n            loop\n            muted\n            controls={false}\n            className=\"w-full h-full object-cover rounded-xl\"\n            alt={memoizedSlides[active].title || 'Project video'}\n          />\n        </div>\n      )}\n\n      {/* Content overlay with improved animations */}\n      <div className=\"absolute bottom-24 left-16 text-amber-100 max-w-lg\">\n        <div \n          key={`content-${active}`}\n          className=\"animate-fadeInUp\"\n        >\n          <p className=\"text-sm mb-2 opacity-80 transition-all duration-500\">\n            {memoizedSlides[active]?.developer}\n          </p>\n          <h2 className=\"text-5xl font-amiri font-bold leading-tight transition-all duration-500\">\n            {memoizedSlides[active]?.title}\n          </h2>\n        </div>\n      </div>\n\n      {/* Navigation dots */}\n      <div className=\"absolute bottom-8 left-1/2 transform -translate-x-1/2 flex space-x-2\">\n        {memoizedSlides.map((_, index) => (\n          <button\n            key={`dot-${index}`}\n            onClick={() => setActive(index)}\n            className={`w-3 h-3 rounded-full transition-all duration-300 ${\n              index === active \n                ? 'bg-amber-400 scale-125' \n                : 'bg-white/50 hover:bg-white/70'\n            }`}\n            aria-label={`Go to slide ${index + 1}`}\n          />\n        ))}\n      </div>\n\n      {/* Gradient overlay */}\n      <div className=\"absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent pointer-events-none\" />\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAae,SAAS,cAAc,EAAE,MAAM,EAAuB;;IACnE,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAC;IACrC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAwB;IAEtE,mDAAmD;IACnD,MAAM,iBAAiB,IAAA,wKAAO;iDAAC,IAAM,UAAU,EAAE;gDAAE;QAAC;KAAO;IAE3D,qCAAqC;IACrC,IAAA,0KAAS;mCAAC;YACR,IAAI,CAAC,eAAe,MAAM,EAAE;YAE5B,MAAM,KAAK;8CAAY;oBACrB;sDAAU,CAAC,aAAe,CAAC,aAAa,CAAC,IAAI,eAAe,MAAM;;gBACpE;6CAAG;YACH,eAAe;YAEf;2CAAO;oBACL,IAAI,IAAI,cAAc;gBACxB;;QACF;kCAAG;QAAC,eAAe,MAAM;KAAC;IAE1B,4CAA4C;IAC5C,IAAA,0KAAS;mCAAC;YACR,IAAI,CAAC,eAAe,MAAM,EAAE;YAC5B,IAAI,aAAa;gBACf,cAAc;gBACd,MAAM,KAAK;kDAAY;wBACrB;0DAAU,CAAC,aAAe,CAAC,aAAa,CAAC,IAAI,eAAe,MAAM;;oBACpE;iDAAG;gBACH,eAAe;YACjB;QACF;kCAAG;QAAC;QAAQ,eAAe,MAAM;KAAC;IAElC,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBAAI,WAAU;;;;;;0BAEf,6LAAC;gBAAI,WAAU;;;;;;YAGd,cAAc,CAAC,OAAO,kBACrB,6LAAC;gBAEC,WAAW;;kCAGX,6LAAC;wBAAI,WAAU;;;;;;kCACf,6LAAC,4IAAS;wBACR,KAAK,IAAA,6IAAY,EAAC,cAAc,CAAC,OAAO,CAAC,SAAS;wBAClD,QAAQ,IAAA,6IAAY,EAAC,cAAc,CAAC,OAAO,CAAC,aAAa,KAAK;wBAC9D,QAAQ;wBACR,IAAI;wBACJ,KAAK;wBACL,UAAU;wBACV,WAAU;wBACV,KAAK,cAAc,CAAC,OAAO,CAAC,KAAK,IAAI;;;;;;;eAblC,CAAC,MAAM,EAAE,QAAQ;;;;;0BAmB1B,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAEC,WAAU;;sCAEV,6LAAC;4BAAE,WAAU;sCACV,cAAc,CAAC,OAAO,EAAE;;;;;;sCAE3B,6LAAC;4BAAG,WAAU;sCACX,cAAc,CAAC,OAAO,EAAE;;;;;;;mBAPtB,CAAC,QAAQ,EAAE,QAAQ;;;;;;;;;;0BAa5B,6LAAC;gBAAI,WAAU;0BACZ,eAAe,GAAG,CAAC,CAAC,GAAG,sBACtB,6LAAC;wBAEC,SAAS,IAAM,UAAU;wBACzB,WAAW,CAAC,iDAAiD,EAC3D,UAAU,SACN,2BACA,iCACJ;wBACF,cAAY,CAAC,YAAY,EAAE,QAAQ,GAAG;uBAPjC,CAAC,IAAI,EAAE,OAAO;;;;;;;;;;0BAazB,6LAAC;gBAAI,WAAU;;;;;;;;;;;;AAGrB;GAhGwB;KAAA","debugId":null}},
    {"offset": {"line": 814, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/imgv3/lib/compare.ts"],"sourcesContent":["'use client';\nimport { useEffect, useState } from 'react';\nconst KEY='ig:compare';\nexport function useCompare(){\n  const [ids,setIds]=useState<string[]>([]);\n  useEffect(()=>{ if(typeof window==='undefined') return; try{ const raw=localStorage.getItem(KEY); if(raw) setIds(JSON.parse(raw)); }catch{} },[]);\n  useEffect(()=>{ if(typeof window==='undefined') return; try{ localStorage.setItem(KEY, JSON.stringify(ids)); }catch{} },[ids]);\n  const add=(id:string)=> setIds(p=> p.includes(id)? p : [...p,id]);\n  const remove=(id:string)=> setIds(p=> p.filter(x=>x!==id));\n  const clear=()=> setIds([]);\n  return { ids, add, remove, clear };\n}\n"],"names":[],"mappings":";;;;AACA;;AADA;;AAEA,MAAM,MAAI;AACH,SAAS;;IACd,MAAM,CAAC,KAAI,OAAO,GAAC,IAAA,yKAAQ,EAAW,EAAE;IACxC,IAAA,0KAAS;gCAAC;YAAM;;YAAwC,IAAG;gBAAE,MAAM,MAAI,aAAa,OAAO,CAAC;gBAAM,IAAG,KAAK,OAAO,KAAK,KAAK,CAAC;YAAO,EAAC,OAAK,CAAC;QAAE;+BAAE,EAAE;IAChJ,IAAA,0KAAS;gCAAC;YAAM;;YAAwC,IAAG;gBAAE,aAAa,OAAO,CAAC,KAAK,KAAK,SAAS,CAAC;YAAO,EAAC,OAAK,CAAC;QAAE;+BAAE;QAAC;KAAI;IAC7H,MAAM,MAAI,CAAC,KAAa,OAAO,CAAA,IAAI,EAAE,QAAQ,CAAC,MAAK,IAAI;mBAAI;gBAAE;aAAG;IAChE,MAAM,SAAO,CAAC,KAAa,OAAO,CAAA,IAAI,EAAE,MAAM,CAAC,CAAA,IAAG,MAAI;IACtD,MAAM,QAAM,IAAK,OAAO,EAAE;IAC1B,OAAO;QAAE;QAAK;QAAK;QAAQ;IAAM;AACnC;GARgB","debugId":null}},
    {"offset": {"line": 868, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/imgv3/lib/favorites.ts"],"sourcesContent":["'use client';\nimport { useEffect, useState } from 'react';\nconst KEY='ig:favorites';\nexport function useFavorites(){\n  const [ids,setIds]=useState<string[]>([]);\n  useEffect(()=>{ if(typeof window==='undefined') return; try{ const raw=localStorage.getItem(KEY); if(raw) setIds(JSON.parse(raw)); }catch{} },[]);\n  useEffect(()=>{ if(typeof window==='undefined') return; try{ localStorage.setItem(KEY, JSON.stringify(ids)); }catch{} },[ids]);\n  const toggle=(id:string)=> setIds(p=> p.includes(id)? p.filter(x=>x!==id): [...p,id]);\n  const has=(id:string)=> ids.includes(id);\n  const clear=()=> setIds([]);\n  return { ids, toggle, has, clear };\n}\n"],"names":[],"mappings":";;;;AACA;;AADA;;AAEA,MAAM,MAAI;AACH,SAAS;;IACd,MAAM,CAAC,KAAI,OAAO,GAAC,IAAA,yKAAQ,EAAW,EAAE;IACxC,IAAA,0KAAS;kCAAC;YAAM;;YAAwC,IAAG;gBAAE,MAAM,MAAI,aAAa,OAAO,CAAC;gBAAM,IAAG,KAAK,OAAO,KAAK,KAAK,CAAC;YAAO,EAAC,OAAK,CAAC;QAAE;iCAAE,EAAE;IAChJ,IAAA,0KAAS;kCAAC;YAAM;;YAAwC,IAAG;gBAAE,aAAa,OAAO,CAAC,KAAK,KAAK,SAAS,CAAC;YAAO,EAAC,OAAK,CAAC;QAAE;iCAAE;QAAC;KAAI;IAC7H,MAAM,SAAO,CAAC,KAAa,OAAO,CAAA,IAAI,EAAE,QAAQ,CAAC,MAAK,EAAE,MAAM,CAAC,CAAA,IAAG,MAAI,MAAK;mBAAI;gBAAE;aAAG;IACpF,MAAM,MAAI,CAAC,KAAa,IAAI,QAAQ,CAAC;IACrC,MAAM,QAAM,IAAK,OAAO,EAAE;IAC1B,OAAO;QAAE;QAAK;QAAQ;QAAK;IAAM;AACnC;GARgB","debugId":null}},
    {"offset": {"line": 922, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/imgv3/lib/format.ts"],"sourcesContent":["export type Locale = 'ar' | 'en';\n\nexport function formatAED(n?: number, locale: Locale = 'ar') {\n  if (typeof n !== 'number') return '—';\n  const suffix = locale === 'ar' ? ' درهم' : ' AED';\n  if (n >= 1_000_000) {\n    return `${(n / 1_000_000).toFixed(1).replace(/\\.0$/, '')}M${suffix}`;\n  }\n  return `${n.toLocaleString('en-US').replace(/\\.\\d+/, '')}${suffix}`;\n}\n\nexport function formatArea(min?: number, max?: number, unit: 'sqm' | 'sqft' = 'sqm', locale: Locale = 'ar') {\n  const unitText = locale === 'ar' ? (unit === 'sqm' ? 'م²' : 'قدم²') : unit;\n  if (typeof min !== 'number' && typeof max !== 'number') return '—';\n  if (typeof min === 'number' && typeof max === 'number' && max > min) {\n    return `${min.toLocaleString('en-US')} – ${max.toLocaleString('en-US')} ${unitText}`;\n  }\n  const val = min ?? max;\n  return `${val?.toLocaleString('en-US')} ${unitText}`;\n}\n\nexport function formatBedrooms(arr?: number[] | string, locale: Locale = 'ar') {\n  if (!arr) return '—';\n  \n  // If it's already a string, return it as-is (it's already formatted)\n  if (typeof arr === 'string') {\n    return arr;\n  }\n  \n  // If it's an array but empty, return dash\n  if (Array.isArray(arr) && !arr.length) return '—';\n  \n  // If it's an array, format it\n  if (Array.isArray(arr)) {\n    const suffix = locale === 'ar' ? ' غرف' : ' BR';\n    return `${arr.join(', ')}${suffix}`;\n  }\n  \n  return '—';\n}\n\nexport const proxify = (url: string) => {\n  if (!url) return url;\n  \n  // If it's already a local URL or data URL, return as-is\n  if (url.startsWith('/') || url.startsWith('data:') || url.startsWith('blob:')) {\n    return url;\n  }\n  \n  // If missing protocol (e.g. 'youtu.be/...' or 'example.com/file'), assume https\n  if (!/^([a-zA-Z]+:\\/\\/)/.test(url)) {\n    url = `https://${url}`;\n  }\n\n  // Only proxy static media files from specific domains (ctfassets.net, amazonaws.com)\n  // Do NOT proxy navigation links, 3D tour links, or other interactive content\n  try {\n    const urlObj = new URL(url);\n    if (urlObj.protocol === 'https:' || urlObj.protocol === 'http:') {\n      // Only proxy if it's a static media file from trusted CDN domains\n      if (url.includes('ctfassets.net') || url.includes('amazonaws.com')) {\n        return `/api/proxy/file?url=${encodeURIComponent(url)}`;\n      }\n      // For all other external URLs (PropVR, 3D tours, etc.), return as-is\n      return url;\n    }\n  } catch (e) {\n    // If URL parsing fails, return original\n    console.warn('Failed to parse URL for proxying:', url);\n  }\n  \n  return url;\n};\n\nexport const currencyAED = (n: number | null | undefined) => {\n  if (n === null || n === undefined) return '';\n  return n.toLocaleString('en-US').replace(/\\.\\d+/, '') + ' AED';\n};\n"],"names":[],"mappings":";;;;;;;;;;;;AAEO,SAAS,UAAU,CAAU,EAAE,SAAiB,IAAI;IACzD,IAAI,OAAO,MAAM,UAAU,OAAO;IAClC,MAAM,SAAS,WAAW,OAAO,UAAU;IAC3C,IAAI,KAAK,WAAW;QAClB,OAAO,GAAG,CAAC,IAAI,SAAS,EAAE,OAAO,CAAC,GAAG,OAAO,CAAC,QAAQ,IAAI,CAAC,EAAE,QAAQ;IACtE;IACA,OAAO,GAAG,EAAE,cAAc,CAAC,SAAS,OAAO,CAAC,SAAS,MAAM,QAAQ;AACrE;AAEO,SAAS,WAAW,GAAY,EAAE,GAAY,EAAE,OAAuB,KAAK,EAAE,SAAiB,IAAI;IACxG,MAAM,WAAW,WAAW,OAAQ,SAAS,QAAQ,OAAO,SAAU;IACtE,IAAI,OAAO,QAAQ,YAAY,OAAO,QAAQ,UAAU,OAAO;IAC/D,IAAI,OAAO,QAAQ,YAAY,OAAO,QAAQ,YAAY,MAAM,KAAK;QACnE,OAAO,GAAG,IAAI,cAAc,CAAC,SAAS,GAAG,EAAE,IAAI,cAAc,CAAC,SAAS,CAAC,EAAE,UAAU;IACtF;IACA,MAAM,MAAM,OAAO;IACnB,OAAO,GAAG,KAAK,eAAe,SAAS,CAAC,EAAE,UAAU;AACtD;AAEO,SAAS,eAAe,GAAuB,EAAE,SAAiB,IAAI;IAC3E,IAAI,CAAC,KAAK,OAAO;IAEjB,qEAAqE;IACrE,IAAI,OAAO,QAAQ,UAAU;QAC3B,OAAO;IACT;IAEA,0CAA0C;IAC1C,IAAI,MAAM,OAAO,CAAC,QAAQ,CAAC,IAAI,MAAM,EAAE,OAAO;IAE9C,8BAA8B;IAC9B,IAAI,MAAM,OAAO,CAAC,MAAM;QACtB,MAAM,SAAS,WAAW,OAAO,SAAS;QAC1C,OAAO,GAAG,IAAI,IAAI,CAAC,QAAQ,QAAQ;IACrC;IAEA,OAAO;AACT;AAEO,MAAM,UAAU,CAAC;IACtB,IAAI,CAAC,KAAK,OAAO;IAEjB,wDAAwD;IACxD,IAAI,IAAI,UAAU,CAAC,QAAQ,IAAI,UAAU,CAAC,YAAY,IAAI,UAAU,CAAC,UAAU;QAC7E,OAAO;IACT;IAEA,gFAAgF;IAChF,IAAI,CAAC,oBAAoB,IAAI,CAAC,MAAM;QAClC,MAAM,CAAC,QAAQ,EAAE,KAAK;IACxB;IAEA,qFAAqF;IACrF,6EAA6E;IAC7E,IAAI;QACF,MAAM,SAAS,IAAI,IAAI;QACvB,IAAI,OAAO,QAAQ,KAAK,YAAY,OAAO,QAAQ,KAAK,SAAS;YAC/D,kEAAkE;YAClE,IAAI,IAAI,QAAQ,CAAC,oBAAoB,IAAI,QAAQ,CAAC,kBAAkB;gBAClE,OAAO,CAAC,oBAAoB,EAAE,mBAAmB,MAAM;YACzD;YACA,qEAAqE;YACrE,OAAO;QACT;IACF,EAAE,OAAO,GAAG;QACV,wCAAwC;QACxC,QAAQ,IAAI,CAAC,qCAAqC;IACpD;IAEA,OAAO;AACT;AAEO,MAAM,cAAc,CAAC;IAC1B,IAAI,MAAM,QAAQ,MAAM,WAAW,OAAO;IAC1C,OAAO,EAAE,cAAc,CAAC,SAAS,OAAO,CAAC,SAAS,MAAM;AAC1D","debugId":null}},
    {"offset": {"line": 1005, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/imgv3/lib/i18n-client.ts"],"sourcesContent":["import { useParams } from 'next/navigation';\n\nexport type Locale = 'ar' | 'en';\n\nexport function useLocale(): Locale {\n  const params = useParams();\n  return (params?.locale === 'en' ? 'en' : 'ar') as Locale;\n}"],"names":[],"mappings":";;;;AAAA;;;AAIO,SAAS;;IACd,MAAM,SAAS,IAAA,kJAAS;IACxB,OAAQ,QAAQ,WAAW,OAAO,OAAO;AAC3C;GAHgB;;QACC,kJAAS","debugId":null}},
    {"offset": {"line": 1029, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/imgv3/lib/i18n-utils.ts"],"sourcesContent":["\"use client\";\nimport { useParams } from 'next/navigation';\n\nexport type Locale = 'ar' | 'en';\n\nexport const SUPPORTED_LOCALES: readonly Locale[] = (\n  process.env.NEXT_PUBLIC_SUPPORTED_LANGUAGES ?? 'ar,en'\n).split(',').map(s=>s.trim().toLowerCase()).filter(Boolean) as Locale[];\n\nexport function normalizeLocale(x?: string): Locale {\n  return (x||'').toLowerCase().startsWith('ar') ? 'ar' : 'en';\n}\n\nexport function t(v?: {ar?:string; en?:string} | string, locale: Locale = 'ar'): string {\n  if (!v) return '';\n  if (typeof v === 'string') return v;\n  return v[locale] || v.en || v.ar || '';\n}\n\n// Legacy alias\nexport const tx = t;\n\nexport function localizeField(value: any, locale: Locale): string {\n  if (!value) return '';\n  if (typeof value === 'string') return value;\n  if (typeof value === 'object') {\n    return value[locale] || value.en || value.ar || Object.values(value)[0] || '';\n  }\n  return String(value);\n}"],"names":[],"mappings":";;;;;;;;;;;;AAME;AANF;AAKO,MAAM,oBAAuC,CAClD,6CAA+C,OACjD,EAAE,KAAK,CAAC,KAAK,GAAG,CAAC,CAAA,IAAG,EAAE,IAAI,GAAG,WAAW,IAAI,MAAM,CAAC;;AAE5C,SAAS,gBAAgB,CAAU;IACxC,OAAO,CAAC,KAAG,EAAE,EAAE,WAAW,GAAG,UAAU,CAAC,QAAQ,OAAO;AACzD;AAEO,SAAS,EAAE,CAAqC,EAAE,SAAiB,IAAI;IAC5E,IAAI,CAAC,GAAG,OAAO;IACf,IAAI,OAAO,MAAM,UAAU,OAAO;IAClC,OAAO,CAAC,CAAC,OAAO,IAAI,EAAE,EAAE,IAAI,EAAE,EAAE,IAAI;AACtC;AAGO,MAAM,KAAK;AAEX,SAAS,cAAc,KAAU,EAAE,MAAc;IACtD,IAAI,CAAC,OAAO,OAAO;IACnB,IAAI,OAAO,UAAU,UAAU,OAAO;IACtC,IAAI,OAAO,UAAU,UAAU;QAC7B,OAAO,KAAK,CAAC,OAAO,IAAI,MAAM,EAAE,IAAI,MAAM,EAAE,IAAI,OAAO,MAAM,CAAC,MAAM,CAAC,EAAE,IAAI;IAC7E;IACA,OAAO,OAAO;AAChB","debugId":null}},
    {"offset": {"line": 1071, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/imgv3/lib/routes.ts"],"sourcesContent":["// lib/routes.ts\nexport type Locale = 'ar' | 'en';\n\n// مسارات Typed للاستخدام مع <Link/> (App Router)\nexport const routes = {\n  home: (locale: Locale) =>\n    ({ pathname: '/[locale]', params: { locale } } as const),\n\n  // Projects\n  projectsIndex: (locale: Locale) =>\n    ({ pathname: '/[locale]/projects', params: { locale } } as const),\n\n  projectShow: (locale: Locale, developer: string, slug: string) =>\n    ({ pathname: '/[locale]/projects/[developer]/[slug]', params: { locale, developer, slug } } as const),\n\n  // Developers\n  developersIndex: (locale: Locale) =>\n    ({ pathname: '/[locale]/developers', params: { locale } } as const),\n\n  developerShow: (locale: Locale, developer: string) =>\n    ({ pathname: '/[locale]/developers/[developer]', params: { locale, developer } } as const),\n\n  developerProjectsIndex: (locale: Locale, developer: string) =>\n    ({ pathname: '/[locale]/developers/[developer]/projects', params: { locale, developer } } as const),\n\n  developerCommunitiesIndex: (locale: Locale, developer: string) =>\n    ({ pathname: '/[locale]/developers/[developer]/communities', params: { locale, developer } } as const),\n\n  // Other pages (عدّل المسارات هنا لو كانت مختلفة فعليًا عندك)\n  about: (locale: Locale) =>\n    ({ pathname: '/[locale]/about', params: { locale } } as const),\n\n  vision: (locale: Locale) =>\n    ({ pathname: '/[locale]/vision', params: { locale } } as const),\n\n  news: (locale: Locale) =>\n    ({ pathname: '/[locale]/news', params: { locale } } as const),\n\n  favorites: (locale: Locale) =>\n    ({ pathname: '/[locale]/favorites', params: { locale } } as const),\n\n  ai: (locale: Locale) =>\n    ({ pathname: '/[locale]/ai', params: { locale } } as const),\n\n  contact: (locale: Locale) =>\n    ({ pathname: '/[locale]/contact', params: { locale } } as const),\n\n  compare: (locale: Locale) =>\n    ({ pathname: '/[locale]/compare', params: { locale } } as const),\n\n  privacy: (locale: Locale) =>\n    ({ pathname: '/[locale]/privacy', params: { locale } } as const),\n\n  terms: (locale: Locale) =>\n    ({ pathname: '/[locale]/terms', params: { locale } } as const),\n\n  sitemap: (locale: Locale) =>\n    ({ pathname: '/[locale]/sitemap', params: { locale } } as const),\n};\n\n// سلاسل نصية فقط عندما تحتاج path كنص (ليس للاستخدام مع <Link/>)\nexport const stringRoutes = {\n  home: (locale: Locale) => `/${locale}`,\n  projectsIndex: (locale: Locale) => `/${locale}/projects`,\n  projectShow: (locale: Locale, developer: string, slug: string) => `/${locale}/projects/${developer}/${slug}`,\n  developersIndex: (locale: Locale) => `/${locale}/developers`,\n  developerShow: (locale: Locale, developer: string) => `/${locale}/developers/${developer}`,\n  developerProjectsIndex: (locale: Locale, developer: string) => `/${locale}/developers/${developer}/projects`,\n  developerCommunitiesIndex: (locale: Locale, developer: string) => `/${locale}/developers/${developer}/communities`,\n  communityShow: (locale: Locale, developer: string, slug: string) => `/${locale}/developers/${developer}/communities/${slug}`,\n  about: (locale: Locale) => `/${locale}/about`,\n  vision: (locale: Locale) => `/${locale}/vision`,\n  news: (locale: Locale) => `/${locale}/news`,\n  favorites: (locale: Locale) => `/${locale}/favorites`,\n  ai: (locale: Locale) => `/${locale}/ai`,\n  contact: (locale: Locale) => `/${locale}/contact`,\n  compare: (locale: Locale) => `/${locale}/compare`,\n  privacy: (locale: Locale) => `/${locale}/privacy`,\n  terms: (locale: Locale) => `/${locale}/terms`,\n  sitemap: (locale: Locale) => `/${locale}/sitemap`,\n};\n\n// اختياري: دالة نصية قديمة للتوافق الخلفي\nexport function makeProjectHref(locale: Locale, developer: string, slug: string): string {\n  return `/${locale}/projects/${developer}/${slug}`;\n}\n\n// Unified builder for card hrefs to avoid dynamic template strings in <Link>\nexport type CardItem = {\n  type: 'project' | 'community' | 'developer';\n  developer: string;\n  slug?: string;\n};\n\nexport function buildHref(locale: Locale, item: CardItem): string {\n  if (item.type === 'project' && item.slug) {\n    return stringRoutes.projectShow(locale, item.developer, item.slug);\n  }\n  if (item.type === 'community' && item.slug) {\n    return stringRoutes.communityShow(locale, item.developer, item.slug);\n  }\n  // developer card (or fallback)\n  return stringRoutes.developerShow(locale, item.developer);\n}\n"],"names":[],"mappings":"AAAA,gBAAgB;;;;;;;;;;;AAIT,MAAM,SAAS;IACpB,MAAM,CAAC,SACL,CAAC;YAAE,UAAU;YAAa,QAAQ;gBAAE;YAAO;QAAE,CAAU;IAEzD,WAAW;IACX,eAAe,CAAC,SACd,CAAC;YAAE,UAAU;YAAsB,QAAQ;gBAAE;YAAO;QAAE,CAAU;IAElE,aAAa,CAAC,QAAgB,WAAmB,OAC/C,CAAC;YAAE,UAAU;YAAyC,QAAQ;gBAAE;gBAAQ;gBAAW;YAAK;QAAE,CAAU;IAEtG,aAAa;IACb,iBAAiB,CAAC,SAChB,CAAC;YAAE,UAAU;YAAwB,QAAQ;gBAAE;YAAO;QAAE,CAAU;IAEpE,eAAe,CAAC,QAAgB,YAC9B,CAAC;YAAE,UAAU;YAAoC,QAAQ;gBAAE;gBAAQ;YAAU;QAAE,CAAU;IAE3F,wBAAwB,CAAC,QAAgB,YACvC,CAAC;YAAE,UAAU;YAA6C,QAAQ;gBAAE;gBAAQ;YAAU;QAAE,CAAU;IAEpG,2BAA2B,CAAC,QAAgB,YAC1C,CAAC;YAAE,UAAU;YAAgD,QAAQ;gBAAE;gBAAQ;YAAU;QAAE,CAAU;IAEvG,6DAA6D;IAC7D,OAAO,CAAC,SACN,CAAC;YAAE,UAAU;YAAmB,QAAQ;gBAAE;YAAO;QAAE,CAAU;IAE/D,QAAQ,CAAC,SACP,CAAC;YAAE,UAAU;YAAoB,QAAQ;gBAAE;YAAO;QAAE,CAAU;IAEhE,MAAM,CAAC,SACL,CAAC;YAAE,UAAU;YAAkB,QAAQ;gBAAE;YAAO;QAAE,CAAU;IAE9D,WAAW,CAAC,SACV,CAAC;YAAE,UAAU;YAAuB,QAAQ;gBAAE;YAAO;QAAE,CAAU;IAEnE,IAAI,CAAC,SACH,CAAC;YAAE,UAAU;YAAgB,QAAQ;gBAAE;YAAO;QAAE,CAAU;IAE5D,SAAS,CAAC,SACR,CAAC;YAAE,UAAU;YAAqB,QAAQ;gBAAE;YAAO;QAAE,CAAU;IAEjE,SAAS,CAAC,SACR,CAAC;YAAE,UAAU;YAAqB,QAAQ;gBAAE;YAAO;QAAE,CAAU;IAEjE,SAAS,CAAC,SACR,CAAC;YAAE,UAAU;YAAqB,QAAQ;gBAAE;YAAO;QAAE,CAAU;IAEjE,OAAO,CAAC,SACN,CAAC;YAAE,UAAU;YAAmB,QAAQ;gBAAE;YAAO;QAAE,CAAU;IAE/D,SAAS,CAAC,SACR,CAAC;YAAE,UAAU;YAAqB,QAAQ;gBAAE;YAAO;QAAE,CAAU;AACnE;AAGO,MAAM,eAAe;IAC1B,MAAM,CAAC,SAAmB,CAAC,CAAC,EAAE,QAAQ;IACtC,eAAe,CAAC,SAAmB,CAAC,CAAC,EAAE,OAAO,SAAS,CAAC;IACxD,aAAa,CAAC,QAAgB,WAAmB,OAAiB,CAAC,CAAC,EAAE,OAAO,UAAU,EAAE,UAAU,CAAC,EAAE,MAAM;IAC5G,iBAAiB,CAAC,SAAmB,CAAC,CAAC,EAAE,OAAO,WAAW,CAAC;IAC5D,eAAe,CAAC,QAAgB,YAAsB,CAAC,CAAC,EAAE,OAAO,YAAY,EAAE,WAAW;IAC1F,wBAAwB,CAAC,QAAgB,YAAsB,CAAC,CAAC,EAAE,OAAO,YAAY,EAAE,UAAU,SAAS,CAAC;IAC5G,2BAA2B,CAAC,QAAgB,YAAsB,CAAC,CAAC,EAAE,OAAO,YAAY,EAAE,UAAU,YAAY,CAAC;IAClH,eAAe,CAAC,QAAgB,WAAmB,OAAiB,CAAC,CAAC,EAAE,OAAO,YAAY,EAAE,UAAU,aAAa,EAAE,MAAM;IAC5H,OAAO,CAAC,SAAmB,CAAC,CAAC,EAAE,OAAO,MAAM,CAAC;IAC7C,QAAQ,CAAC,SAAmB,CAAC,CAAC,EAAE,OAAO,OAAO,CAAC;IAC/C,MAAM,CAAC,SAAmB,CAAC,CAAC,EAAE,OAAO,KAAK,CAAC;IAC3C,WAAW,CAAC,SAAmB,CAAC,CAAC,EAAE,OAAO,UAAU,CAAC;IACrD,IAAI,CAAC,SAAmB,CAAC,CAAC,EAAE,OAAO,GAAG,CAAC;IACvC,SAAS,CAAC,SAAmB,CAAC,CAAC,EAAE,OAAO,QAAQ,CAAC;IACjD,SAAS,CAAC,SAAmB,CAAC,CAAC,EAAE,OAAO,QAAQ,CAAC;IACjD,SAAS,CAAC,SAAmB,CAAC,CAAC,EAAE,OAAO,QAAQ,CAAC;IACjD,OAAO,CAAC,SAAmB,CAAC,CAAC,EAAE,OAAO,MAAM,CAAC;IAC7C,SAAS,CAAC,SAAmB,CAAC,CAAC,EAAE,OAAO,QAAQ,CAAC;AACnD;AAGO,SAAS,gBAAgB,MAAc,EAAE,SAAiB,EAAE,IAAY;IAC7E,OAAO,CAAC,CAAC,EAAE,OAAO,UAAU,EAAE,UAAU,CAAC,EAAE,MAAM;AACnD;AASO,SAAS,UAAU,MAAc,EAAE,IAAc;IACtD,IAAI,KAAK,IAAI,KAAK,aAAa,KAAK,IAAI,EAAE;QACxC,OAAO,aAAa,WAAW,CAAC,QAAQ,KAAK,SAAS,EAAE,KAAK,IAAI;IACnE;IACA,IAAI,KAAK,IAAI,KAAK,eAAe,KAAK,IAAI,EAAE;QAC1C,OAAO,aAAa,aAAa,CAAC,QAAQ,KAAK,SAAS,EAAE,KAAK,IAAI;IACrE;IACA,+BAA+B;IAC/B,OAAO,aAAa,aAAa,CAAC,QAAQ,KAAK,SAAS;AAC1D","debugId":null}},
    {"offset": {"line": 1233, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/lib/i18n/ar_glossary.json"],"sourcesContent":["{\"price\":{\"ar\":\"السعر\",\"en\":\"Price\"},\"area\":{\"ar\":\"المساحة\",\"en\":\"Area\"},\"bedrooms\":{\"ar\":\"الغرف\",\"en\":\"Bedrooms\"},\"poi\":{\"ar\":\"نقاط الاهتمام\",\"en\":\"Points of Interest\"}}"],"names":[],"mappings":"AAAA"}},
    {"offset": {"line": 1233, "column": 196}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1236, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/lib/i18n/area_travel_times_km_min.json"],"sourcesContent":["{\"matrix\":[{\"from\":\"Dubai Harbour\",\"to\":\"Mall of the Emirates\",\"km\":15,\"min\":20},{\"from\":\"Dubai Harbour\",\"to\":\"Palm Jumeirah\",\"km\":10,\"min\":12},{\"from\":\"Dubai Marina\",\"to\":\"Dubai International Airport\",\"km\":40,\"min\":40},{\"from\":\"DAMAC Hills\",\"to\":\"Dubai Marina\",\"km\":25,\"min\":30}]}"],"names":[],"mappings":"AAAA"}},
    {"offset": {"line": 1236, "column": 307}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1239, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/lib/i18n/areas_coordinates.json"],"sourcesContent":["{\"Dubai Harbour\":{\"lat\":25.0926,\"lon\":55.1437},\"Dubai Marina\":{\"lat\":25.08,\"lon\":55.14},\"Palm Jumeirah\":{\"lat\":25.112,\"lon\":55.1386},\"Mall of the Emirates\":{\"lat\":25.118,\"lon\":55.2},\"DAMAC Hills\":{\"lat\":25.002,\"lon\":55.27},\"Dubai International Airport\":{\"lat\":25.2532,\"lon\":55.3657}}"],"names":[],"mappings":"AAAA"}},
    {"offset": {"line": 1239, "column": 309}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1242, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/lib/i18n/distance_units.json"],"sourcesContent":["{\"units\":{\"km\":{\"label\":{\"en\":\"km\",\"ar\":\"كم\"},\"format\":{\"en\":\"{v} km\",\"ar\":\"{v} كم\"}},\"min\":{\"label\":{\"en\":\"min\",\"ar\":\"دقيقة\"},\"format\":{\"en\":\"{v} min\",\"ar\":\"{v} دقيقة\"}}}}"],"names":[],"mappings":"AAAA"}},
    {"offset": {"line": 1242, "column": 198}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1245, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/lib/i18n/dubai_areas_en_ar.json"],"sourcesContent":["{\"areas\":[{\"slug\":\"dubai-harbour\",\"en\":\"Dubai Harbour\",\"ar\":\"ميناء دبي\"},{\"slug\":\"dubai-marina\",\"en\":\"Dubai Marina\",\"ar\":\"دبي مارينا\"},{\"slug\":\"palm-jumeirah\",\"en\":\"Palm Jumeirah\",\"ar\":\"نخلة جميرا\"},{\"slug\":\"damac-hills\",\"en\":\"DAMAC Hills\",\"ar\":\"داماك هيلز\"}]}"],"names":[],"mappings":"AAAA"}},
    {"offset": {"line": 1245, "column": 286}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1248, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/lib/i18n/glossary_ar_en.json"],"sourcesContent":["{\"terms\":[{\"en\":\"apartment\",\"ar\":\"شقة\"},{\"en\":\"villa\",\"ar\":\"فيلا\"},{\"en\":\"townhouse\",\"ar\":\"تاونهاوس\"},{\"en\":\"community\",\"ar\":\"مجتمع\"},{\"en\":\"landmark\",\"ar\":\"معلم\"}]}"],"names":[],"mappings":"AAAA"}},
    {"offset": {"line": 1248, "column": 191}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1251, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/lib/i18n/poi_categories_en_ar.json"],"sourcesContent":["{\"categories\":[{\"key\":\"shopping\",\"en\":\"Shopping\",\"ar\":\"تسوق\"},{\"key\":\"landmark\",\"en\":\"Landmark\",\"ar\":\"معلم\"},{\"key\":\"community\",\"en\":\"Community\",\"ar\":\"مجتمع\"},{\"key\":\"airport\",\"en\":\"Airport\",\"ar\":\"مطار\"},{\"key\":\"entertainment\",\"en\":\"Entertainment\",\"ar\":\"ترفيه\"},{\"key\":\"education\",\"en\":\"Education\",\"ar\":\"تعليم\"}]}"],"names":[],"mappings":"AAAA"}},
    {"offset": {"line": 1251, "column": 339}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1254, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/lib/i18n/poi_landmarks_en_ar.json"],"sourcesContent":["{\"landmarks\":[{\"slug\":\"palm-jumeirah\",\"en\":\"Palm Jumeirah\",\"ar\":\"نخلة جميرا\",\"lat\":25.112,\"lon\":55.1386},{\"slug\":\"dubai-marina-mall\",\"en\":\"Dubai Marina Mall\",\"ar\":\"دبي مارينا مول\",\"lat\":25.078,\"lon\":55.14},{\"slug\":\"mall-of-the-emirates\",\"en\":\"Mall of the Emirates\",\"ar\":\"مول الإمارات\",\"lat\":25.118,\"lon\":55.2},{\"slug\":\"jumeirah-village-circle\",\"en\":\"Jumeirah Village Circle\",\"ar\":\"جميرا فيليج سيركل\",\"lat\":25.061,\"lon\":55.22},{\"slug\":\"dubai-international-airport\",\"en\":\"Dubai International Airport\",\"ar\":\"مطار دبي الدولي\",\"lat\":25.2532,\"lon\":55.3657},{\"slug\":\"ibn-battuta-mall\",\"en\":\"Ibn Battuta Mall\",\"ar\":\"ابن بطوطة مول\",\"lat\":25.045,\"lon\":55.118},{\"slug\":\"img-worlds-of-adventure\",\"en\":\"IMG Worlds of Adventure\",\"ar\":\"عالم آي إم جي للمغامرات\",\"lat\":25.1384,\"lon\":55.2866},{\"slug\":\"skydive-dubai\",\"en\":\"Skydive Dubai\",\"ar\":\"سكاي دايف دبي\",\"lat\":25.092,\"lon\":55.1395},{\"slug\":\"aud\",\"en\":\"American University of Dubai\",\"ar\":\"الجامعة الأمريكية في دبي\",\"lat\":25.0912,\"lon\":55.1571},{\"slug\":\"ain-dubai\",\"en\":\"Ain Dubai\",\"ar\":\"عين دبي\",\"lat\":25.0872,\"lon\":55.139}]}"],"names":[],"mappings":"AAAA"}},
    {"offset": {"line": 1254, "column": 1087}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1257, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/lib/i18n/project_types_glossary.json"],"sourcesContent":["{\"types\":[{\"key\":\"apartment\",\"en\":\"Apartment\",\"ar\":\"شقة\"},{\"key\":\"villa\",\"en\":\"Villa\",\"ar\":\"فيلا\"},{\"key\":\"townhouse\",\"en\":\"Townhouse\",\"ar\":\"تاونهاوس\"},{\"key\":\"tower\",\"en\":\"Tower\",\"ar\":\"برج\"},{\"key\":\"community\",\"en\":\"Community\",\"ar\":\"مجتمع\"}],\"bedrooms\":[1,2,3,4,5,6]}"],"names":[],"mappings":"AAAA"}},
    {"offset": {"line": 1257, "column": 294}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1260, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/lib/i18n/transport_profiles.json"],"sourcesContent":["{\"profiles\":{\"urban\":{\"avgKph\":45},\"highway\":{\"avgKph\":80}},\"phrases\":{\"en\":\"~{km} km (≈{min} min) from {landmark}\",\"ar\":\"يبعد ~{km} كم (≈{min} دقيقة) عن {landmark}\"}}"],"names":[],"mappings":"AAAA"}},
    {"offset": {"line": 1260, "column": 193}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1264, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/imgv3/lib/i18n/index.ts"],"sourcesContent":["import arGloss from './ar_glossary.json';\nimport travel from './area_travel_times_km_min.json';\nimport coords from './areas_coordinates.json';\nimport units from './distance_units.json';\nimport areas from './dubai_areas_en_ar.json';\nimport biGloss from './glossary_ar_en.json';\nimport poiCats from './poi_categories_en_ar.json';\nimport poiList from './poi_landmarks_en_ar.json';\nimport types from './project_types_glossary.json';\nimport transport from './transport_profiles.json';\nexport const I18N = { arGloss, travel, coords, units, areas, biGloss, poiCats, poiList, types, transport };\nexport type Locale = 'ar'|'en';\n\n// Client-safe helpers for distance and phrasing\nexport type LatLon = { lat: number; lon: number };\n\nexport function distanceKm(a: LatLon, b: LatLon): number {\n  const toRad = (deg: number) => (deg * Math.PI) / 180;\n  const R = 6371; // Earth radius in km\n  const dLat = toRad(b.lat - a.lat);\n  const dLon = toRad(b.lon - a.lon);\n  const lat1 = toRad(a.lat);\n  const lat2 = toRad(b.lat);\n  const sinDLat = Math.sin(dLat / 2);\n  const sinDLon = Math.sin(dLon / 2);\n  const c = 2 * Math.atan2(\n    Math.sqrt(sinDLat * sinDLat + Math.cos(lat1) * Math.cos(lat2) * sinDLon * sinDLon),\n    Math.sqrt(1 - (sinDLat * sinDLat + Math.cos(lat1) * Math.cos(lat2) * sinDLon * sinDLon))\n  );\n  return Math.max(0, R * c);\n}\n\nexport function estimateMinutes(km: number, profile: 'urban' | 'highway' = 'urban'): number {\n  const kph = I18N.transport?.profiles?.[profile]?.avgKph ?? (profile === 'highway' ? 80 : 45);\n  const minutes = (km / Math.max(1, kph)) * 60;\n  return Math.round(minutes);\n}\n\nexport function formatDistancePhrase(locale: Locale, km: number, min: number, landmark: string): string {\n  const tpl = I18N.transport?.phrases?.[locale] ?? (locale === 'ar'\n    ? 'يبعد ~{km} كم (≈{min} دقيقة) عن {landmark}'\n    : '~{km} km (≈{min} min) from {landmark}');\n  const kmStr = (Math.round(km * 10) / 10).toString();\n  const minStr = Math.max(1, Math.round(min)).toString();\n  return tpl\n    .replace('{km}', kmStr)\n    .replace('{min}', minStr)\n    .replace('{landmark}', landmark);\n}\n"],"names":[],"mappings":";;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AACO,MAAM,OAAO;IAAE,SAAA,6GAAO;IAAE,QAAA,0HAAM;IAAE,QAAA,mHAAM;IAAE,OAAA,gHAAK;IAAE,OAAA,mHAAK;IAAE,SAAA,gHAAO;IAAE,SAAA,sHAAO;IAAE,SAAA,qHAAO;IAAE,OAAA,wHAAK;IAAE,WAAA,oHAAS;AAAC;AAMlG,SAAS,WAAW,CAAS,EAAE,CAAS;IAC7C,MAAM,QAAQ,CAAC,MAAgB,AAAC,MAAM,KAAK,EAAE,GAAI;IACjD,MAAM,IAAI,MAAM,qBAAqB;IACrC,MAAM,OAAO,MAAM,EAAE,GAAG,GAAG,EAAE,GAAG;IAChC,MAAM,OAAO,MAAM,EAAE,GAAG,GAAG,EAAE,GAAG;IAChC,MAAM,OAAO,MAAM,EAAE,GAAG;IACxB,MAAM,OAAO,MAAM,EAAE,GAAG;IACxB,MAAM,UAAU,KAAK,GAAG,CAAC,OAAO;IAChC,MAAM,UAAU,KAAK,GAAG,CAAC,OAAO;IAChC,MAAM,IAAI,IAAI,KAAK,KAAK,CACtB,KAAK,IAAI,CAAC,UAAU,UAAU,KAAK,GAAG,CAAC,QAAQ,KAAK,GAAG,CAAC,QAAQ,UAAU,UAC1E,KAAK,IAAI,CAAC,IAAI,CAAC,UAAU,UAAU,KAAK,GAAG,CAAC,QAAQ,KAAK,GAAG,CAAC,QAAQ,UAAU,OAAO;IAExF,OAAO,KAAK,GAAG,CAAC,GAAG,IAAI;AACzB;AAEO,SAAS,gBAAgB,EAAU,EAAE,UAA+B,OAAO;IAChF,MAAM,MAAM,KAAK,SAAS,EAAE,UAAU,CAAC,QAAQ,EAAE,UAAU,CAAC,YAAY,YAAY,KAAK,EAAE;IAC3F,MAAM,UAAU,AAAC,KAAK,KAAK,GAAG,CAAC,GAAG,OAAQ;IAC1C,OAAO,KAAK,KAAK,CAAC;AACpB;AAEO,SAAS,qBAAqB,MAAc,EAAE,EAAU,EAAE,GAAW,EAAE,QAAgB;IAC5F,MAAM,MAAM,KAAK,SAAS,EAAE,SAAS,CAAC,OAAO,IAAI,CAAC,WAAW,OACzD,+CACA,uCAAuC;IAC3C,MAAM,QAAQ,CAAC,KAAK,KAAK,CAAC,KAAK,MAAM,EAAE,EAAE,QAAQ;IACjD,MAAM,SAAS,KAAK,GAAG,CAAC,GAAG,KAAK,KAAK,CAAC,MAAM,QAAQ;IACpD,OAAO,IACJ,OAAO,CAAC,QAAQ,OAChB,OAAO,CAAC,SAAS,QACjB,OAAO,CAAC,cAAc;AAC3B","debugId":null}},
    {"offset": {"line": 1336, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/imgv3/components/ProjectCard.tsx"],"sourcesContent":["'use client';\nimport LuxuryButton from '@/components/ui/LuxuryButton';\nimport { useCompare } from '@/lib/compare';\nimport { useFavorites } from '@/lib/favorites';\nimport { formatAED, formatArea, formatBedrooms } from '@/lib/format';\nimport { useLocale } from '@/lib/i18n-client';\nimport { t, tx } from '@/lib/i18n-utils';\nimport { buildHref } from '@/lib/routes';\nimport type { Project } from '@/lib/types';\nimport { I18N, distanceKm, estimateMinutes, formatDistancePhrase } from '@/lib/i18n/index';\nimport { motion, type MotionProps } from 'framer-motion';\nimport Image from 'next/image';\nimport Link from 'next/link';\nimport type { Route } from 'next';\nimport { useState } from 'react';\nimport type { MapPOI } from '@/lib/types';\n\ntype Props = { project: Project };\n\nexport default function ProjectCard({ project }: Props) {\n  const locale = useLocale();\n\n  // Safe data extraction with fallbacks\n  const title =\n    t(project?.projectName, locale) ||\n    project?.slug ||\n    (locale === 'ar' ? 'مشروع غير محدد' : 'Unnamed Project');\n\n  const subtitle =\n    tx(project?.area, locale) ||\n    tx(project?.location, locale) ||\n    tx(project?.city, locale) ||\n    '';\n\n  const img = project?.heroImage || project?.galleryImages?.[0];\n\n  // Safe price calculation\n  const hasMinPrice = project?.minPriceAED && project.minPriceAED > 0;\n  const hasMaxPrice = project?.maxPriceAED && project.maxPriceAED > 0;\n\n  const price =\n    hasMinPrice &&\n    hasMaxPrice &&\n    project.maxPriceAED &&\n    project.minPriceAED &&\n    project.maxPriceAED > project.minPriceAED\n      ? `${formatAED(project.minPriceAED, locale)} – ${formatAED(project.maxPriceAED, locale)}`\n      : hasMinPrice && project.minPriceAED\n      ? formatAED(project.minPriceAED, locale)\n      : hasMaxPrice && project.maxPriceAED\n      ? formatAED(project.maxPriceAED, locale)\n      : null;\n\n  // Safe area calculation\n  const hasAreaSqmt =\n    (project?.minAreaSqmt && project.minAreaSqmt > 0) ||\n    (project?.maxAreaSqmt && project.maxAreaSqmt > 0);\n\n  const hasAreaSqft =\n    (project?.minAreaSqft && project.minAreaSqft > 0) ||\n    (project?.maxAreaSqft && project.maxAreaSqft > 0);\n\n  const area = hasAreaSqmt\n    ? formatArea(project.minAreaSqmt, project.maxAreaSqmt, 'sqm', locale)\n    : hasAreaSqft\n    ? formatArea(project.minAreaSqft, project.maxAreaSqft, 'sqft', locale)\n    : null;\n\n  // Safe bedrooms formatting\n  const bedrooms = project?.bedrooms ? formatBedrooms(project.bedrooms, locale) : null;\n\n  // Compute POI phrases (top 3) using I18N helpers when possible\n  const poiPhrases: string[] = (() => {\n    const pois = Array.isArray(project?.mapPointsOfInterest) ? project.mapPointsOfInterest.slice(0, 3) : [];\n    const projCoords =\n      typeof project?.latitude === 'number' && typeof project?.longitude === 'number'\n        ? { lat: project.latitude as number, lon: project.longitude as number }\n        : null;\n    return pois\n      .map((poi: any) => {\n        const nm = (typeof poi?.name === 'string' ? poi.name : (poi?.name?.[locale] || poi?.name?.en || '')) as string;\n        let km = 0;\n        if (poi?.coordinates && typeof poi.coordinates.lat === 'number' && typeof poi.coordinates.lon === 'number' && projCoords) {\n          km = distanceKm(projCoords, { lat: poi.coordinates.lat, lon: poi.coordinates.lon });\n        } else if (typeof poi?.distance === 'string') {\n          const m = poi.distance.match(/([0-9]+(?:\\.[0-9]+)?)\\s*km/i);\n          km = m ? parseFloat(m[1]) : 0;\n        } else if (typeof poi?.distance?.en === 'string' || typeof poi?.distance?.ar === 'string') {\n          const dStr = (poi.distance[locale] || poi.distance.en || '').toString();\n          const m = dStr.match(/([0-9]+(?:\\.[0-9]+)?)\\s*km/i);\n          km = m ? parseFloat(m[1]) : 0;\n        }\n        const minutes = estimateMinutes(km, 'urban');\n        return formatDistancePhrase(locale as any, Math.max(0, km), Math.max(1, minutes), nm);\n      })\n      .filter(Boolean);\n  })();\n\n  const loc = (locale || 'ar').toString();\n  const rawSlug =\n    (project?.slug && String(project.slug).trim()) ||\n    (t(project?.projectName, locale)?.toString().trim().toLowerCase()\n      .replace(/\\s+/g, '-').replace(/[^a-z0-9\\-]+/g, '') ?? '');\n  const slug = rawSlug;\n  // Robust developer segment handling: accept string or object { slug }\n  const devSlug = (() => {\n    const d = project?.developer as any;\n    if (typeof d === 'string') return d.trim();\n    if (d && typeof d.slug === 'string') return d.slug.trim();\n    return 'emaar';\n  })();\n  const hrefStr = slug\n    ? buildHref(loc as any, { type: 'project', developer: devSlug, slug })\n    : `/${loc}/projects`;\n  const href = hrefStr as Route;\n\n  // Debug logging\n  if (process.env.NODE_ENV !== 'production') {\n    // eslint-disable-next-line no-console\n    console.debug('ProjectCard href =>', hrefStr, { devSlug, slug });\n  }\n\n  const favorites = useFavorites();\n  const compare = useCompare();\n  const isCompared = compare.ids.includes(project.id || project.slug);\n\n  // Simplified state\n  const [isHovered, setIsHovered] = useState(false);\n\n  return (\n    <motion.div\n      {...({\n        whileHover: { y: -4 },\n        transition: { duration: 0.2, ease: 'easeOut' },\n        onHoverStart: () => setIsHovered(true),\n        onHoverEnd: () => setIsHovered(false),\n        className:\n          'group relative flex flex-col justify-between rounded-2xl overflow-hidden border border-gold/30 bg-black/90 hover:shadow-[0_0_20px_rgba(107,90,43,0.2)] hover:border-gold-800 transition-all duration-700 opacity-0 animate-fade-in h-[520px]',\n      } as any)}\n    >\n      {/* Simple glow effect */}\n      <div className=\"absolute inset-0 rounded-2xl bg-gradient-to-r from-gold/5 via-transparent to-gold/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none\" />\n\n      <Link href={href} className=\"block relative overflow-hidden\" prefetch={false}>\n        <div className=\"relative h-44 w-full overflow-hidden\">\n          {img ? (\n            <>\n              <Image\n                src={img}\n                alt={title}\n                width={400}\n                height={176}\n                className=\"h-44 w-full object-cover transition-all duration-200\"\n                style={{ filter: isHovered ? 'brightness(1.1)' : 'brightness(1)' }}\n                sizes=\"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw\"\n              />\n              {/* Simple overlay effect */}\n              <div className=\"absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-200\" />\n            </>\n          ) : (\n            <div className=\"h-44 bg-gradient-to-br from-zinc-900 via-zinc-800 to-zinc-900 flex items-center justify-center\">\n              <div className=\"text-gold/30 text-4xl\">🏢</div>\n            </div>\n          )}\n        </div>\n      </Link>\n\n      {/* Simplified floating buttons */}\n      <div className=\"absolute top-3 right-3 flex gap-2 z-10\">\n        {project?.goldenVisaEligible ? (\n          <span className=\"text-[10px] px-2 py-1 rounded-full bg-gold/30 text-gold border border-gold/40 shadow backdrop-blur-sm\">\n            {locale === 'ar' ? 'تأشيرة ذهبية' : 'Golden Visa'}\n          </span>\n        ) : null}\n\n        <LuxuryButton\n          aria-label=\"favorite\"\n          onClick={() => favorites.toggle(project.id || project.slug)}\n          variant={favorites.has(project.id || project.slug) ? 'secondary' : 'outline'}\n          size=\"sm\"\n          className=\"!h-9 !w-9 !p-0 rounded-full backdrop-blur-sm hover:scale-105 transition-transform duration-200\"\n        >\n          <span style={{ color: favorites.has(project.id || project.slug) ? '#FFD700' : '#D4AF37' }}>\n            ★\n          </span>\n        </LuxuryButton>\n\n        <LuxuryButton\n          aria-label=\"compare\"\n          onClick={() =>\n            isCompared ? compare.remove(project.id || project.slug) : compare.add(project.id || project.slug)\n          }\n          variant={isCompared ? 'secondary' : 'outline'}\n          size=\"sm\"\n          className=\"!h-9 !w-9 !p-0 rounded-full backdrop-blur-sm hover:scale-105 transition-transform duration-200\"\n        >\n          <span style={{ color: isCompared ? '#FFD700' : '#D4AF37' }}>⚖️</span>\n        </LuxuryButton>\n      </div>\n\n      <div className=\"flex flex-col justify-between h-[calc(100%-11rem)] p-4\">\n        <div>\n          <Link href={href} className=\"block\" prefetch={false}>\n            <h3\n              className={`luxury-title text-lg gold-gradient-static luxury-text-shadow leading-snug line-clamp-2 hover:text-gold transition-colors duration-200 ${\n                locale === 'ar' ? 'font-arabic' : 'font-display'\n              }`}\n            >\n              {title}\n            </h3>\n            <p className={`mt-1 text-xs text-gray-400 ${locale === 'ar' ? 'font-arabic' : 'font-sans'}`}>\n              {subtitle}\n            </p>\n            <p\n              className={`mt-3 text-sm text-gray-300 line-clamp-2 ${locale === 'ar' ? 'font-arabic' : 'font-sans'}`}\n            >\n              {String(t(project.summary, locale) || t(project.description, locale) || '').slice(0, 140)}\n            </p>\n          </Link>\n          {/* POI distance phrases */}\n          {poiPhrases.length > 0 && (\n            <ul className={`mt-3 space-y-1 text-[11px] text-gray-400 ${locale === 'ar' ? 'font-arabic' : 'font-sans'}`}>\n              {poiPhrases.map((p, idx) => (\n                <li key={idx}>• {p}</li>\n              ))}\n            </ul>\n          )}\n        </div>\n\n        <div>\n          {/* Only show stats grid if we have at least one piece of data */}\n          {(price || area || bedrooms) && (\n            <div\n              className={`mt-4 grid gap-2 text-xs ${\n                [price, area, bedrooms].filter(Boolean).length === 1\n                  ? 'grid-cols-1'\n                  : [price, area, bedrooms].filter(Boolean).length === 2\n                  ? 'grid-cols-2'\n                  : 'grid-cols-3'\n              }`}\n            >\n              {price && (\n                <div className=\"rounded-lg bg-zinc-900/70 px-3 py-2 border border-zinc-700/50 hover:border-gold/30 hover:bg-white/5 transition-all duration-200\">\n                  <div className=\"text-[10px] text-gray-400\">{locale === 'ar' ? 'السعر' : 'Price'}</div>\n                  <div className=\"font-semibold text-white/90\">{price}</div>\n                </div>\n              )}\n              {area && (\n                <div className=\"rounded-lg bg-zinc-900/70 px-3 py-2 border border-zinc-700/50 hover:border-gold/30 hover:bg-white/5 transition-all duration-200\">\n                  <div className=\"text-[10px] text-gray-400\">{locale === 'ar' ? 'المساحة' : 'Area'}</div>\n                  <div className=\"font-semibold text-white/90\">{area}</div>\n                </div>\n              )}\n              {bedrooms && (\n                <div className=\"rounded-lg bg-zinc-900/70 px-3 py-2 border border-zinc-700/50 hover:border-gold/30 hover:bg-white/5 transition-all duration-200\">\n                  <div className=\"text-[10px] text-gray-400\">{locale === 'ar' ? 'الغرف' : 'Bedrooms'}</div>\n                  <div className=\"font-semibold text-white/90\">{bedrooms}</div>\n                </div>\n              )}\n            </div>\n          )}\n\n          <Link href={href} className=\"mt-4 block\" prefetch={false}>\n            <LuxuryButton\n              variant=\"primary\"\n              size=\"md\"\n              fullWidth\n              className={`${locale === 'ar' ? 'font-arabic' : 'font-sans'} hover:scale-[1.02] transition-transform duration-200`}\n            >\n              {locale === 'ar' ? 'عرض التفاصيل' : 'View Details'}\n            </LuxuryButton>\n          </Link>\n        </div>\n      </div>\n    </motion.div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1791, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/imgv3/components/ui/MediaSuspense.tsx"],"sourcesContent":["'use client';\n\nimport { Suspense, ReactNode } from 'react';\n// Removed framer-motion to avoid TS typing issues in build\nimport LoadingSpinner from './LoadingSpinner';\n\ninterface MediaSuspenseProps {\n  children: ReactNode;\n  type?: 'image' | 'video' | 'pdf' | 'gallery' | 'general';\n  className?: string;\n  height?: string | number;\n  width?: string | number;\n  loadingText?: string;\n}\n\nconst getMediaIcon = (type: string) => {\n  switch (type) {\n    case 'image':\n      return (\n        <svg className=\"w-12 h-12\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n          <path d=\"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z\"/>\n        </svg>\n      );\n    case 'video':\n      return (\n        <svg className=\"w-12 h-12\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n          <path d=\"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z\"/>\n        </svg>\n      );\n    case 'pdf':\n      return (\n        <svg className=\"w-12 h-12\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n          <path d=\"M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z\"/>\n        </svg>\n      );\n    case 'gallery':\n      return (\n        <svg className=\"w-12 h-12\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n          <path d=\"M22 16V4c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2zm-11.5-6L8 13.5l2.5 3.01L14.5 12 18 16H8l2.5-4zM2 6v14c0 1.1.9 2 2 2h14v-2H4V6H2z\"/>\n        </svg>\n      );\n    default:\n      return (\n        <svg className=\"w-12 h-12\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n          <path d=\"M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z\"/>\n        </svg>\n      );\n  }\n};\n\nconst getLoadingText = (type: string, customText?: string) => {\n  if (customText) return customText;\n  \n  switch (type) {\n    case 'image':\n      return 'Loading image...';\n    case 'video':\n      return 'Loading video...';\n    case 'pdf':\n      return 'Loading document...';\n    case 'gallery':\n      return 'Loading gallery...';\n    default:\n      return 'Loading content...';\n  }\n};\n\nfunction MediaFallback({ \n  type = 'general', \n  className = '', \n  height, \n  width, \n  loadingText \n}: Omit<MediaSuspenseProps, 'children'>) {\n  return (\n    <div\n      className={`\n        bg-gradient-to-br from-zinc-900 to-zinc-800 \n        border border-zinc-700/50 \n        rounded-lg \n        flex flex-col items-center justify-center \n        text-zinc-400\n        ${className}\n      `}\n      style={{ \n        height: height || '300px', \n        width: width || '100%',\n        minHeight: '200px',\n        transition: 'opacity 0.3s ease',\n        opacity: 1\n      }}\n    >\n      {/* Animated background pattern */}\n      <div className=\"absolute inset-0 opacity-5\">\n        <div className=\"w-full h-full bg-gradient-to-r from-gold/10 via-transparent to-gold/10 animate-pulse\" />\n      </div>\n\n      {/* Content */}\n      <div className=\"relative z-10 text-center\">\n        {/* Icon with subtle animation */}\n        <div className=\"mb-4 text-zinc-500 animate-pulse\">\n          {getMediaIcon(type)}\n        </div>\n\n        {/* Loading spinner */}\n        <div className=\"mb-4\">\n          <LoadingSpinner size=\"md\" />\n        </div>\n\n        {/* Loading text */}\n        <p className=\"text-sm font-medium animate-pulse\">\n          {getLoadingText(type, loadingText)}\n        </p>\n\n        {/* Progress dots */}\n        <div className=\"flex space-x-1 mt-3\">\n          {[0, 1, 2].map((i) => (\n            <div\n              key={i}\n              className=\"w-2 h-2 bg-gold/40 rounded-full animate-pulse\"\n              style={{ animationDelay: `${i * 200}ms` }}\n            />\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default function MediaSuspense({\n  children,\n  type = 'general',\n  className = '',\n  height,\n  width,\n  loadingText\n}: MediaSuspenseProps) {\n  return (\n    <Suspense \n      fallback={\n        <MediaFallback \n          type={type}\n          className={className}\n          height={height}\n          width={width}\n          loadingText={loadingText}\n        />\n      }\n    >\n      {children}\n    </Suspense>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA,2DAA2D;AAC3D;AAJA;;;;AAeA,MAAM,eAAe,CAAC;IACpB,OAAQ;QACN,KAAK;YACH,qBACE,6LAAC;gBAAI,WAAU;gBAAY,SAAQ;gBAAY,MAAK;0BAClD,cAAA,6LAAC;oBAAK,GAAE;;;;;;;;;;;QAGd,KAAK;YACH,qBACE,6LAAC;gBAAI,WAAU;gBAAY,SAAQ;gBAAY,MAAK;0BAClD,cAAA,6LAAC;oBAAK,GAAE;;;;;;;;;;;QAGd,KAAK;YACH,qBACE,6LAAC;gBAAI,WAAU;gBAAY,SAAQ;gBAAY,MAAK;0BAClD,cAAA,6LAAC;oBAAK,GAAE;;;;;;;;;;;QAGd,KAAK;YACH,qBACE,6LAAC;gBAAI,WAAU;gBAAY,SAAQ;gBAAY,MAAK;0BAClD,cAAA,6LAAC;oBAAK,GAAE;;;;;;;;;;;QAGd;YACE,qBACE,6LAAC;gBAAI,WAAU;gBAAY,SAAQ;gBAAY,MAAK;0BAClD,cAAA,6LAAC;oBAAK,GAAE;;;;;;;;;;;IAGhB;AACF;AAEA,MAAM,iBAAiB,CAAC,MAAc;IACpC,IAAI,YAAY,OAAO;IAEvB,OAAQ;QACN,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT;YACE,OAAO;IACX;AACF;AAEA,SAAS,cAAc,EACrB,OAAO,SAAS,EAChB,YAAY,EAAE,EACd,MAAM,EACN,KAAK,EACL,WAAW,EAC0B;IACrC,qBACE,6LAAC;QACC,WAAW,CAAC;;;;;;QAMV,EAAE,UAAU;MACd,CAAC;QACD,OAAO;YACL,QAAQ,UAAU;YAClB,OAAO,SAAS;YAChB,WAAW;YACX,YAAY;YACZ,SAAS;QACX;;0BAGA,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;;;;;;;;;;;0BAIjB,6LAAC;gBAAI,WAAU;;kCAEb,6LAAC;wBAAI,WAAU;kCACZ,aAAa;;;;;;kCAIhB,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC,iJAAc;4BAAC,MAAK;;;;;;;;;;;kCAIvB,6LAAC;wBAAE,WAAU;kCACV,eAAe,MAAM;;;;;;kCAIxB,6LAAC;wBAAI,WAAU;kCACZ;4BAAC;4BAAG;4BAAG;yBAAE,CAAC,GAAG,CAAC,CAAC,kBACd,6LAAC;gCAEC,WAAU;gCACV,OAAO;oCAAE,gBAAgB,GAAG,IAAI,IAAI,EAAE,CAAC;gCAAC;+BAFnC;;;;;;;;;;;;;;;;;;;;;;AASnB;KA5DS;AA8DM,SAAS,cAAc,EACpC,QAAQ,EACR,OAAO,SAAS,EAChB,YAAY,EAAE,EACd,MAAM,EACN,KAAK,EACL,WAAW,EACQ;IACnB,qBACE,6LAAC,yKAAQ;QACP,wBACE,6LAAC;YACC,MAAM;YACN,WAAW;YACX,QAAQ;YACR,OAAO;YACP,aAAa;;;;;;kBAIhB;;;;;;AAGP;MAvBwB","debugId":null}}]
}