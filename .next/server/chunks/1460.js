"use strict";exports.id=1460,exports.ids=[1460],exports.modules={11460:(a,b,c)=>{c.d(b,{Dv:()=>l,MW:()=>k,VM:()=>f,aJ:()=>i,aj:()=>g,co:()=>h,oQ:()=>j});var d=c(16949),e=c(32571);let f={ALL_PROJECTS:"all-projects",DEVELOPERS:"developers",PROJECT_BY_SLUG:"project-by-slug",PROJECTS_BY_DEVELOPER:"projects-by-developer"},g=(0,d.unstable_cache)(async()=>(console.log("\uD83D\uDD04 Loading all projects (cache miss)"),await (0,e.aj)()),[f.ALL_PROJECTS],{tags:[f.ALL_PROJECTS],revalidate:3600}),h=(0,d.unstable_cache)(async(a,b)=>(console.log(`üîÑ Loading project ${a}/${b} (cache miss)`),await (0,e.co)(a,b)||null),[f.PROJECT_BY_SLUG],{tags:[f.PROJECT_BY_SLUG],revalidate:1800}),i=(0,d.unstable_cache)(async a=>(console.log(`üîÑ Loading projects for developer ${a} (cache miss)`),await (0,e.aJ)(a)),[f.PROJECTS_BY_DEVELOPER],{tags:[f.PROJECTS_BY_DEVELOPER],revalidate:1800}),j=(0,d.unstable_cache)(async()=>(console.log("\uD83D\uDD04 Loading developers list (cache miss)"),await (0,e.oQ)()),[f.DEVELOPERS],{tags:[f.DEVELOPERS],revalidate:7200});async function k(){let a=await j(),b=[];return a.forEach(a=>{a.slug&&(b.push({developer:a.slug,locale:"ar"}),b.push({developer:a.slug,locale:"en"}))}),b}async function l(){let a=await g(),b=[];return a.forEach(a=>{let c="string"==typeof a.developer?a.developer:a.developer?.slug;c&&a.slug&&(b.push({developer:c,slug:a.slug,locale:"ar"}),b.push({developer:c,slug:a.slug,locale:"en"}))}),b}},32571:(a,b,c)=>{c.d(b,{aJ:()=>p,aj:()=>n,co:()=>o,oQ:()=>q});var d=c(29021),e=c.n(d),f=c(33873),g=c.n(f);function h(a){return(a||"").toString().replace(/\.[^.]+$/,"").replace(/[_\s]+/g,"-").replace(/[^a-zA-Z0-9-]+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"").toLowerCase()||"project"}function i(a){if(a){if("string"==typeof a)return a.trim()||void 0;if("object"==typeof a&&null!==a){let b="string"==typeof a.en?a.en.trim():"",c="string"==typeof a.ar?a.ar.trim():"",d=c||b,e=b||c;if(e||d)return{en:e||void 0,ar:d||void 0}}}}function j(a,b,c){try{let d=i(a.projectName||a.title||a.name);if(!d)return console.warn(`‚ö†Ô∏è Skipping project in ${b}: missing projectName/title`),null;let e=function(a,b){if("string"==typeof a?.slug&&a.slug.trim())return h(a.slug.trim());let c="string"==typeof a?.projectName?a.projectName:"object"==typeof a?.projectName&&(a.projectName.en||a.projectName.ar)||"";return c&&c.trim()?h(c.trim()):h(b)}(a,b),f={slug:e,id:a.id||`${c.toLowerCase()}-${e}`,developer:c,projectName:d,country:i(a.country),city:i(a.city),area:i(a.area),location:i(a.location),description:i(a.description),summary:i(a.summary),insights:i(a.insights),mapDescription:i(a.mapDescription),projectStatus:i(a.projectStatus),minPriceAED:"number"==typeof a.minPriceAED?a.minPriceAED:"number"==typeof a.minPrice?a.minPrice:void 0,maxPriceAED:"number"==typeof a.maxPriceAED?a.maxPriceAED:"number"==typeof a.maxPrice?a.maxPrice:void 0,minAreaSqft:"number"==typeof a.minAreaSqft?a.minAreaSqft:"number"==typeof a.areaMin?a.areaMin:void 0,maxAreaSqft:"number"==typeof a.maxAreaSqft?a.maxAreaSqft:"number"==typeof a.areaMax?a.areaMax:void 0,latitude:"number"==typeof a.latitude?a.latitude:void 0,longitude:"number"==typeof a.longitude?a.longitude:void 0,heroImage:"string"==typeof a.heroImage&&a.heroImage.trim()||void 0,videoLink:"string"==typeof a.videoLink&&a.videoLink.trim()||void 0,brochurePdfLink:"string"==typeof a.brochurePdfLink?a.brochurePdfLink.trim()||void 0:"string"==typeof a.pdf&&a.pdf.trim()||void 0,"3D_TourLink":"string"==typeof a["3D_TourLink"]&&a["3D_TourLink"].trim()||void 0,galleryImages:Array.isArray(a.galleryImages)?a.galleryImages.filter(a=>"string"==typeof a&&a.trim()):Array.isArray(a.images)?a.images.filter(a=>"string"==typeof a&&a.trim()):[],bedrooms:Array.isArray(a.bedrooms)?a.bedrooms:void 0,launchDate:"string"==typeof a.launchDate&&a.launchDate.trim()||void 0,deliveryDate:"string"==typeof a.deliveryDate?a.deliveryDate.trim()||void 0:"string"==typeof a.handover&&a.handover.trim()||void 0,goldenVisaEligible:"boolean"==typeof a.goldenVisaEligible?a.goldenVisaEligible:void 0,sellable:"boolean"!=typeof a.sellable||a.sellable,amenities:Array.isArray(a.amenities)?a.amenities.map(a=>({name:i(a.name)||{en:"Amenity",ar:"ŸÖÿ±ŸÅŸÇ"},description:i(a.description)})).filter(a=>a.name):[],mapPointsOfInterest:[],news:Array.isArray(a.news)?a.news:[],contact:"object"==typeof a.contact?a.contact:void 0,projectPageLink:"string"==typeof a.projectPageLink&&a.projectPageLink.trim()||void 0,projectID:a.projectID||a.id||e};if(a.mapPointsOfInterest){if(Array.isArray(a.mapPointsOfInterest))f.mapPointsOfInterest=a.mapPointsOfInterest.map(a=>({name:i(a.name)||{en:"Point of Interest",ar:"ŸÜŸÇÿ∑ÿ© ÿßŸáÿ™ŸÖÿßŸÖ"},distance:i(a.distance),category:"string"==typeof a.category?a.category:"general",coordinates:"object"==typeof a.coordinates&&a.coordinates&&"number"==typeof a.coordinates.lat&&"number"==typeof a.coordinates.lon?a.coordinates:{lat:0,lon:0}}));else if("object"==typeof a.mapPointsOfInterest){let b=[];Object.entries(a.mapPointsOfInterest).forEach(([a,c])=>{Array.isArray(c)&&c.forEach(c=>{"string"==typeof c?b.push({name:{en:c,ar:c},category:a,coordinates:{lat:0,lon:0}}):"object"==typeof c&&b.push({name:i(c.name)||{en:c,ar:c},distance:i(c.distance),category:a,coordinates:"object"==typeof c.coordinates&&c.coordinates?c.coordinates:{lat:0,lon:0}})})}),f.mapPointsOfInterest=b}}return f}catch(a){return console.warn(`‚ö†Ô∏è Error normalizing project in ${b}:`,a),null}}function k(a){try{let b=e().readFileSync(a,"utf-8");if(!b.trim())return console.warn(`‚ö†Ô∏è Empty file: ${a}`),[];let c=JSON.parse(b);if(Array.isArray(c))return c;return[c]}catch(b){return console.warn(`‚ö†Ô∏è Failed to parse JSON file ${a}:`,b),[]}}let l=null,m=0;async function n(){if(l&&Date.now()-m<3e5)return l;let a=g().join(process.cwd(),"public","data"),b=[];try{for(let c of e().readdirSync(a,{withFileTypes:!0})){if(!c.isDirectory())continue;let d=c.name;if(["node_modules",".git",".next",".DS_Store"].includes(d)||d.startsWith("_"))continue;let f=g().join(a,d);try{let a=function(a,b){let c=[],d=new Set(["emarfull","_raw","_reports","logs","quarantine","archive","emarmasf"]),f=new Set(["provider_profile.json","manifest_emaar.json","index.json","projects_index.json","policies.json"]);try{for(let h of e().readdirSync(a,{withFileTypes:!0}))try{if(h.isFile()&&h.name.endsWith(".json")){if(f.has(h.name))continue;let d=g().join(a,h.name);k(d).forEach(a=>{let d=j(a,h.name,b);d&&c.push(d)})}else if(h.isDirectory()){if(d.has(h.name))continue;let f=g().join(a,h.name),i=g().join(f,`${h.name}.json`),l=[];if(e().existsSync(i))l=k(i);else try{for(let a of e().readdirSync(f,{withFileTypes:!0}))if(a.isFile()&&a.name.endsWith(".json")){let b=g().join(f,a.name),c=k(b);l.push(...c)}}catch(a){console.warn(`‚ö†Ô∏è Failed to read subdirectory ${f}:`,a)}l.forEach(a=>{let d=j(a,h.name,b);d&&c.push(d)})}}catch(b){console.warn(`‚ö†Ô∏è Failed to process entry ${h.name} in ${a}:`,b)}}catch(b){console.warn(`‚ö†Ô∏è Failed to read developer directory ${a}:`,b)}return c}(f,d);a.length>0?(b.push(...a),console.log(`‚úÖ Loaded ${a.length} projects from ${d}`)):console.warn(`‚ö†Ô∏è No valid projects found in ${d}`)}catch(a){console.warn(`‚ö†Ô∏è Failed to load projects from ${d}:`,a);continue}}}catch(a){console.warn(`‚ö†Ô∏è Failed to read developer directories:`,a)}return console.log(`üöÄ DYNAMIC LOADING: Total ${b.length} projects loaded from individual JSON files`),l=b,m=Date.now(),b}async function o(a,b){let c=g().join(process.cwd(),"public","data",a,"projects",b),d=g().join(c,"index.json"),f=g().join(c,"units.json");if(e().existsSync(d))try{let a=JSON.parse(e().readFileSync(d,"utf-8"));return e().existsSync(f)&&(a.units=JSON.parse(e().readFileSync(f,"utf-8"))),a}catch(a){console.warn("Failed to load project or units.json:",a);return}return(await n()).find(c=>c.developer===a&&c.slug===b)}async function p(a){return(await n()).filter(b=>b.developer===a)}async function q(){let a=new Map;for(let b of(await n()))b.developer&&a.set(b.developer,(a.get(b.developer)||0)+1);return Array.from(a.entries()).map(([a,b])=>({developer:a,count:b}))}}};